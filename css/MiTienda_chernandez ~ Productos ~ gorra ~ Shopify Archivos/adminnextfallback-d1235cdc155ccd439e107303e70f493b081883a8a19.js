(window.webpackJsonp=window.webpackJsonp||[]).push([["adminnextfallback"],{"./app/components/ContextBar/index.ts":function(e,t,n){"use strict";var o=n("./node_modules/react/index.js"),a=n("./node_modules/@shopify/polaris/esnext/components/ContextualSaveBar/index.js"),r=n("./node_modules/@shopify/react-compose/dist/index.js"),s=n.n(r),i=n("./app/utilities/request-details/index.tsx"),c=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&(n[o[a]]=e[o[a]])}return n};var l=s()(Object(i.a)())(class extends o.Component{shouldComponentUpdate(e){const{visible:t,message:n,primaryAction:o,cancelAction:a}=this.props;return t!==e.visible||n!==e.message||!d(o,e.primaryAction)||!d(a,e.cancelAction)}render(){const e=this.props,{requestDetails:t,visible:n,message:r,primaryAction:s}=e,i=e.cancelAction,l=void 0===i?{}:i,{showConfirmation:d=!1}=l,u=c(l,["showConfirmation"]);return n?o.createElement(a.a,{alignContentFlush:t.isShopifyPlus,message:r,saveAction:s,discardAction:Object.assign({},u,{discardConfirmationModal:d})}):null}});function d(e,t){return null==e?null==t:null!=t&&(e.content===t.content&&e.disabled===t.disabled&&e.loading===t.loading&&e.url===t.url&&e.showConfirmation===t.showConfirmation&&(e.onAction===t.onAction||Boolean(e.onAction)===Boolean(t.onAction)))}t.a=l},"./app/components/NotFound/illustrations/404.svg":function(e,t,n){e.exports=n.p+"6933fb5939cd87752c68648f5db4d540.svg"},"./app/components/NotFound/index.ts":function(e,t,n){"use strict";var o=n("./node_modules/react/index.js"),a=n("./node_modules/@shopify/polaris/esnext/components/Page/Page.js"),r=n("./node_modules/@shopify/polaris/esnext/components/EmptyState/index.js"),s=n("./node_modules/@shopify/react-i18n/dist/index.js"),i=n("./node_modules/@shopify/react-compose/dist/index.js"),c=n.n(i),l=n("./app/components/NotFound/illustrations/404.svg"),d=n.n(l),u=n("./app/components/NotFound/translations/en.json");var p=c()(Object(s.withI18n)({id:"NotFound_1mx0c",fallback:u,translations:async e=>await n("./app/components/NotFound/translations lazy-once recursive ^\\.\\/.*\\.json$")(`./${e}.json`)}))(function({i18n:e,resourceName:t=e.translate("defaultResource"),shortPageName:n=e.translate("defaultPageName"),pageName:s=e.translate("defaultPageName"),goToUrl:i="/admin"}){return o.createElement(a.a,{title:""},o.createElement(r.a,{heading:e.translate("heading",{resourceName:t}),image:d.a,action:{content:e.translate("cta",{pageName:n}),url:i}},o.createElement("p",null,e.translate("body",{pageName:s,resourceName:t}))))});t.a=p},"./app/components/NotFound/translations lazy-once recursive ^\\.\\/.*\\.json$":function(e,t,n){var o={"./de.json":"./app/components/NotFound/translations/de.json","./en.json":"./app/components/NotFound/translations/en.json","./es.json":"./app/components/NotFound/translations/es.json","./fr.json":"./app/components/NotFound/translations/fr.json","./hi-IN.json":"./app/components/NotFound/translations/hi-IN.json","./it.json":"./app/components/NotFound/translations/it.json","./ja.json":"./app/components/NotFound/translations/ja.json","./ms.json":"./app/components/NotFound/translations/ms.json","./nl.json":"./app/components/NotFound/translations/nl.json","./pt-BR.json":"./app/components/NotFound/translations/pt-BR.json","./zh-CN.json":"./app/components/NotFound/translations/zh-CN.json","./zh-TW.json":"./app/components/NotFound/translations/zh-TW.json"};function a(e){return r(e).then(function(e){return n.t(e,3)})}function r(e){return n.e("NotFound_1mx0c-i18n").then(function(){var t=o[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t})}a.keys=function(){return Object.keys(o)},a.resolve=r,a.id="./app/components/NotFound/translations lazy-once recursive ^\\.\\/.*\\.json$",e.exports=a},"./app/components/NotFound/translations/en.json":function(e){e.exports={heading:"The {resourceName} you’re looking for couldn’t be found",body:"Check the web address and try again, or try navigating to the {resourceName} from {pageName}.",cta:"Go to {pageName}",defaultResource:"page",defaultPageName:"Shopify Home",defaultTitle:"Home"}},"./app/sections/AdminNextFallback/AdminNextFallback.scss":function(e,t,n){e.exports={loading:"_3wdO1",HostNode:"_3RuU-",Fallback:"_2XRbV",Skeleton:"GtI5z"}},"./app/sections/AdminNextFallback/AdminNextFallback.tsx":function(e,t,n){"use strict";n.r(t);var o=n("./node_modules/react/index.js"),a=n("./node_modules/@shopify/react-utilities/styles.js"),r=n("./node_modules/@shopify/polaris/esnext/components/Loading/index.js"),s=n("./node_modules/@shopify/polaris/esnext/components/AppProvider/types.js"),i=n("./packages/@shopify/polaris-next/components/FileDownloader/index.ts"),c=n("./packages/@shopify/react-annotations/Annotations.tsx");var l=class extends o.Component{UNSAFE_componentWillMount(){const{update:e,name:t,value:n,annotations:o}=this.props;e(t,n),o&&(o[t]=n)}componentWillUnmount(){const{update:e,name:t}=this.props;e(t,void 0)}render(){return null}};var d=function({name:e,value:t=!0}){return o.createElement(c.a,null,({update:n,annotations:a})=>o.createElement(l,{annotations:a,update:n,name:e,value:t}))},u=n("./node_modules/@shopify/react-html/dist/index.js"),p=n("./packages/@shopify/react-performance/PerformanceMark/PerformanceMark.tsx"),h=n("./packages/@shopify/react-performance/context.ts"),m=n("./node_modules/@shopify/javascript-utilities/decorators/index.js"),f=n("./app/utilities/decorators.ts"),g=n("./node_modules/react-router/esm/react-router.js"),y=n("./app/utilities/network.ts"),v=n("./app/utilities/app/index.tsx"),b=n("./app/utilities/interop.ts"),x=n("./app/utilities/sales-channels/index.ts"),w=n("./app/utilities/easdk/index.ts"),A=n("./app/components/ContextBar/index.ts"),C=n("./app/components/NotFound/index.ts"),S=n("./app/sections/AdminNextFallback/AdminNextFallback.scss"),N=n("./app/components/SkeletonOneColumn/index.ts"),E=n("./app/components/SkeletonTwoColumn/index.ts"),k=n("./app/components/SkeletonIndex/index.ts"),j=n("./app/components/SkeletonAnnotated/index.ts"),R=n("./app/sections/Home/components/HomeSkeleton/HomeSkeleton.tsx"),P=n("./app/sections/Analytics/components/LiveViewSkeleton/index.ts"),L=n("./app/sections/Analytics/components/OverviewDashboardSkeleton/index.ts"),_=n("./node_modules/@shopify/polaris/esnext/components/Link/index.js"),O=n("./node_modules/@shopify/polaris/esnext/components/SkeletonPage/index.js"),B=n("./node_modules/@shopify/polaris/esnext/components/Layout/index.js"),F=n("./node_modules/@shopify/polaris/esnext/components/Card/index.js"),D=n("./node_modules/@shopify/polaris/esnext/components/SkeletonBodyText/index.js"),U=n("./node_modules/@shopify/react-i18n/dist/index.js"),$=n("./app/sections/Analytics/components/CustomIndexSkeleton/CustomIndexSkeleton.scss");var T=Object(U.withI18n)()(function({i18n:e}){const t=o.createElement("div",{className:$.DescriptionContainer},o.createElement("p",{className:$.Description},e.translate("Analytics.CustomReports.description")),o.createElement(_.a,{url:"https://help.shopify.com/manual/reports-and-analytics/shopify-reports/report-types/custom-reports#legacy-saved-reports"},e.translate("Analytics.CustomReports.docCTA")));return o.createElement(O.a,{breadcrumbs:!0,title:e.translate("Analytics.CustomReports.title")},o.createElement(B.a,null,o.createElement(B.a.AnnotatedSection,{title:e.translate("Analytics.CustomReports.title"),description:t},o.createElement(F.a,{sectioned:!0},o.createElement(D.a,null)))))}),M=n("./app/sections/Analytics/components/ReportShowSkeleton/index.ts"),H=n("./app/sections/Analytics/components/ReportsIndexSkeleton/index.ts"),q=n("./app/sections/Analytics/components/FinanceShowSkeleton/index.ts"),I=n("./app/sections/Analytics/components/FinancesSummarySkeleton/index.ts");const z=new Map([[/\/admin\/dashboards\/live/,P.a],[/\/admin\/dashboards$/,L.a],[/\/admin\/reports\/custom$/,T],[/\/admin\/reports\/\w+/,M.a],[/\/admin\/reports/,H.a],[/\/admin\/finances\/\w+/,q.a],[/\/admin\/finances/,I.a],[/\/admin\/apps/,N.a],[/\/admin\/settings$/,N.a],[/\/admin\/settings\/domains/,N.a],[/\/admin\/transfers\/\w+/,E.a],[/\/admin\/transfers/,k.a],[/\/admin\/gift_cards\w+/,k.a],[/\/admin\/products\/inventory/,k.a],[/\/admin\/settings\/files/,k.a],[/\/admin\/themes/,j.a],[/\/admin\/menus/,j.a],[/\/admin\/online_store\/preferences/,j.a],[/\/admin\/gift_cards\/\d+/,j.a],[/\/admin\/gift_cards\/products\/\d+/,j.a],[/\/admin\/settings\/account\/\d/,j.a],[/\/admin\/subscription/,j.a],[/\/admin\/customers\/new/,j.a],[/\/admin(\/)?$/,R.a],[/\/admin\/activity(\/)?$/,N.a],[/\/admin\/\w+\/\d/,E.a],[/\/admin\/.+\/new$/,E.a],[/\/admin\/settings\/\w+/,j.a],[/\/admin\/customers/,k.a],[/\/admin\/\w+/,[k.a,{fullWidth:!0}]],[/./,N.a]]);var W,K=Object(f.a)(g.k)(class extends o.PureComponent{render(){const{location:{pathname:e}}=this.props;for(const[t,n]of z)if(!0===t.test(e)){if(Array.isArray(n)){const[e,t]=n;return o.createElement(e,Object.assign({},t))}{const e=n;return o.createElement(e,null)}}return null}}),V=n("./node_modules/@shopify/network/dist/index.js"),G=n("./node_modules/@shopify/performance/dist/index.js"),X=n("./app/utilities/url/utilities.ts");!function(e){e[e.Stale=0]="Stale",e[e.Redirect=1]="Redirect",e[e.AssetConflict=2]="AssetConflict",e[e.ForceReload=3]="ForceReload",e[e.InvalidContent=4]="InvalidContent",e[e.Attachment=5]="Attachment",e[e.NotFound=6]="NotFound",e[e.NetworkError=7]="NetworkError",e[e.ServerError=8]="ServerError",e[e.Error=9]="Error"}(W||(W={}));const J=[W.NotFound];var Q;function Y(e,t){const n=new CustomEvent(e,{cancelable:!0});return Object.defineProperty(n,"data",{enumerable:!0,value:t}),document.dispatchEvent(n)}function Z(e,t){const n=new FormData(e);return ae(n,t),function(e){if(!FormData.prototype.hasOwnProperty("entries"))return;for(const[t,n]of e.entries())n instanceof File&&0===n.size&&e.delete(t)}(n),n}function ee(e,t,n=new URLSearchParams){if(e.querySelectorAll("[type='file'][name]").length>0)throw new Error("Attempted to URL encode a form that contained file inputs.");for(const o of function(e){return Array.from(e.querySelectorAll(te)).filter(e=>{const t="checkbox"===e.type||"radio"===e.type;return!e.disabled&&Boolean(e.name)&&(!t||t&&e.checked)})}(e))n.append(o.name,o.value);return ae(n,t),n}!function(e){e.RefreshKey="refresh",e.RefreshAlways="refresh-always",e.RefreshNever="refresh-never",e.Remote="tg-remote",e.Static="static",e.Eval="data-turbolinks-eval",e.RemoteNoserialize="tg-remote-noserialize",e.ForceNative="tg-force-native"}(Q||(Q={}));const te="input:not([type='reset']):not([type='button']):not([type='submit']):not([type='image']), select, textarea";function ne(e,t){return null==t?`[data-tg-${e}],[data-${e}],[tg-${e}],[${e}]`:`[data-tg-${e}="${t}"],[data-${e}="${t}"],[tg-${e}="${t}"],[${e}="${t}"]`}function oe(e,t){return null!=function(e,t){if(e.hasAttribute(`data-tg-${t}`))return e.getAttribute(`data-tg-${t}`);if(e.hasAttribute(`data-${t}`))return e.getAttribute(`data-${t}`);if(e.hasAttribute(`tg-${t}`))return e.getAttribute(`tg-${t}`);if(e.hasAttribute(t))return e.getAttribute(t);return null}(e,t)}function ae(e,t=document.activeElement){if(t&&("submit"===t.nodeName||"submit"===t.getAttribute("type"))){const n=t.getAttribute("name")||"submit",o=t.getAttribute("value")||"";e.append(n,o)}}var re=n("./node_modules/@shopify/javascript-utilities/other.js"),se=function(e,t,n,o){var a,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},ie=function(e,t,n,o){return new(n||(n=Promise))(function(a,r){function s(e){try{c(o.next(e))}catch(t){r(t)}}function i(e){try{c(o.throw(e))}catch(t){r(t)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(s,i)}c((o=o.apply(e,t||[])).next())})};const ce="[data-turbolinks-track]",le="[data-turbogears-ignore]",de="turbolinksTrack",ue="true",pe=["shopify-admin-context","shopify-admin-config","referrer","csrf-param","csrf-token","normalized-pathname"];let he=re.noop;const me={};class fe{constructor(e,t,{includeUntrackedAssets:n=!1}={}){var o;this.activeDocument=e,this.upstreamDocument=t,this.includeUntrackedAssets=n,this.activeAssets=ge(this.activeDocument),this.upstreamAssets=n?(o=this.upstreamDocument,Array.from(o.querySelectorAll('link[rel="stylesheet"], link[type="text/css"], script[src], script[type="text/javascript"]'))):ge(this.upstreamDocument),this.newLinks=this.upstreamAssets.filter(({nodeName:e})=>"LINK"===e).filter(e=>{const t=e.getAttribute("href");return!t||this.activeAssets.every(e=>t!==e.getAttribute("href"))}),this.newScripts=this.upstreamAssets.filter(({nodeName:e})=>"SCRIPT"===e).filter(e=>{const t=e.getAttribute("src");return!t||this.activeAssets.every(e=>t!==e.getAttribute("src"))})}hasAssetConflicts(){return!this.includeUntrackedAssets&&(this.movingFromTrackedToUntracked()||this.hasNamedAssetConflicts()||this.hasChangedAnonymousAssets())}load(){return he(),this.synchronizeMetaTags(),this.synchronizePreloadTags(),new Promise((e,t)=>{he=e,function(){return ie(this,void 0,void 0,function*(){const e=Object.values(me);yield Promise.all(e)})}().then(this.updateAssets).then(e).catch(t)})}synchronizePreloadTags(){const{upstreamDocument:e,activeDocument:t}=this;for(const n of Array.from(e.querySelectorAll('link[rel="prefetch"]'))){null==t.querySelector(`link[rel="prefetch"][href="${n.getAttribute("href")}"]`)&&t.head.appendChild(n)}}synchronizeMetaTags(){pe.forEach(e=>{const{upstreamDocument:t,activeDocument:n}=this,o=`meta[name="${e}"]`,a=t.querySelector(o),r=n.querySelector(o);r&&n.head.removeChild(r),a&&n.head.appendChild(a)})}hasChangedAnonymousAssets(){const e=this.upstreamAssets.filter(ve(de,ue)),t=this.activeAssets.filter(ve(de,ue));if(t.length!==e.length)return!0;const n=ye("src",e),o=ye("href",e);return t.some(e=>n(e)||o(e))}movingFromTrackedToUntracked(){return 0===this.upstreamAssets.length&&this.activeAssets.length>0}hasNamedAssetConflicts(){return this.newScripts.concat(this.newLinks).filter((e=de,t=ue,function(n){return n.dataset[e]!==t})).some(function(e,t){return function(n){const o=n.dataset[e];return t.some(ve(e,o))}}(de,this.activeAssets));var e,t}updateAssets(){return ie(this,void 0,void 0,function*(){const{activeDocument:e}=this;!function(e,t){t.forEach(t=>{const n=t.cloneNode();e.head.appendChild(n),Y("page:after-link-inserted",n)})}(e,this.newLinks),yield function(e,t){return ie(this,void 0,void 0,function*(){for(const n of t)yield be(e,n)})}(e,this.newScripts)})}}function ge(e){return Array.from(e.querySelectorAll(`${ce}:not(${le})`))}function ye(e,t){return function(n){return t.every(t=>n.getAttribute(e)===t.getAttribute(e))}}function ve(e,t){return function(n){return n.dataset[e]===t}}function be(e,t){const{src:n}=t;if(n&&me[n])return me[n];const o=e.createElement("script");return Array.from(t.attributes).forEach(({name:e,value:t})=>{o.setAttribute(e,t)}),o.appendChild(e.createTextNode(t.innerHTML)),n?(me[n]=new Promise(t=>{function n(e){"error"===e.type&&Y("page:#script-error",e),o.removeEventListener("load",n),o.removeEventListener("error",n),t()}o.addEventListener("load",n),o.addEventListener("error",n),e.head.appendChild(o),Y("page:after-script-inserted",o)}),me[n]):(e.head.appendChild(o),Y("page:after-script-inserted",o),Promise.resolve())}se([m.autobind],fe.prototype,"updateAssets",null);var xe=function(e,t,n,o){return new(n||(n=Promise))(function(a,r){function s(e){try{c(o.next(e))}catch(t){r(t)}}function i(e){try{c(o.throw(e))}catch(t){r(t)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(s,i)}c((o=o.apply(e,t||[])).next())})};const we=/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/;class Ae extends Error{constructor(e){super(),this.isServerError=!0,this.xhr=e}static check(e){return Boolean(e.isServerError)}}class Ce extends Error{constructor(e){super(),this.isInvalidContentError=!0,this.xhr=e}static check(e){return Boolean(e.isInvalidContentError)}}class Se{constructor({url:e,xhr:t,form:n,submitter:o,referer:a,headers:r={},method:s=(null==n?V.Method.Get:V.Method.Post)}){this.cancelled=!1,this.url=e,this.xhr=t,this.referer=a,this.method=s.toUpperCase(),this.form=n,this.submitter=o,this.headers=r}get normalizedUrl(){const{url:e,form:t,submitter:n,isGetForm:o}=this;if(null==e)return null;const a=new URL(e,window.location.origin),r=new URLSearchParams(a.search);return o&&ee(t,n,r),a.search=r.toString(),a.toString()}get isGetForm(){return this.method===V.Method.Get&&null!=this.form}cancel(e){return this.cancelReason=e,this.cancelled=!0,this}getUpstreamDocument(){const{xhr:e,url:t}=this;return e?this.parseUpstreamDocument(e,t):this.fetchUpstreamDocument()}fetchUpstreamDocument(){return xe(this,void 0,void 0,function*(){const{referer:e,form:t,method:n,normalizedUrl:o,submitter:a}=this;if(null==o)throw new Error("Attempted to fetch a visit without a URL.");const r=new XMLHttpRequest,s=n===V.Method.Get&&t?void 0:Z(t,a);return yield new Promise((t,a)=>{r.open(n,o,!0),r.setRequestHeader(V.Header.Accept,"text/html, application/xhtml+xml, application/xml"),r.setRequestHeader(y.a.FromWeb,"1"),e&&r.setRequestHeader(V.Header.XhrReferer,e);for(const[e,n]of Object.entries(this.headers))r.setRequestHeader(e,n);r.onload=t,r.onerror=(()=>{this.cancel(W.NetworkError),a()}),r.send(s)}),this.parseUpstreamDocument(r,o)})}parseUpstreamDocument(e,t){if(e.status>=500&&e.status<600)throw this.cancel(W.ServerError),new Ae(e);if(Object(y.d)(e))throw this.cancel(W.Attachment),new Ce(e);const n=e.getResponseHeader(V.Header.ContentType)||"";if(!we.test(n))throw this.cancel(W.InvalidContent),new Ce(e);e.status===V.StatusCode.NotFound&&this.cancel(W.NotFound);const o=new DOMParser,a=function(e){return null!=e.url}(e)?`${window.location.origin}${e.url}`:e.responseURL,r=(a&&t&&t!==a?a:e.getResponseHeader(V.Header.XhrRedirectedTo))||t;return{upstreamDocument:o.parseFromString(e.responseText,n.split(";")[0]||"text/html"),finalUrl:r}}}var Ne=function(e,t,n,o){return new(n||(n=Promise))(function(a,r){function s(e){try{c(o.next(e))}catch(t){r(t)}}function i(e){try{c(o.throw(e))}catch(t){r(t)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(s,i)}c((o=o.apply(e,t||[])).next())})};function Ee(e){return new URL(e,`${location.protocol}//${location.host}`)}function ke(e){return Ee(e).href!==location.href}function je(e,t){t.forEach(t=>{const n=t.getAttribute("id");if(null==t.getAttribute("id"))throw new Error("TurboGraft refresh: Kept nodes must have an id.");const o=e.querySelector(`#${n}`);o&&Le(t,o)})}function Re(e){for(;e.firstChild;){Y("page:after-node-removed",e.removeChild(e.firstChild))}}function Pe(e,t){const n=t.createElement("script");Array.from(e.attributes).forEach(({name:e,value:t})=>{n.setAttribute(e,t)}),n.appendChild(t.createTextNode(e.innerHTML));const{parentNode:o,nextSibling:a}=e;if(!o)throw new Error("Attempted to execute a detached script node!");return n.onerror=(e=>Y("page:#script-error",e)),o.removeChild(e),o.insertBefore(n,a),Y("page:after-script-inserted",n),!0}function Le(e,t){const{parentNode:n}=t;if(null==n)throw new Error(`Cannot replace node ${t} since it has no parent`);Y("page:after-node-removed",n.replaceChild(e,t))}function _e(e){const t=document.body.querySelector(`#${e}`);null!=t&&(Y("page:before-partial-replace",[t]),t.remove(),Y("page:after-node-removed",t))}var Oe=class{constructor({layeredContainerID:e,layeredContentSelectors:t,loginPath:n,fullReloadPaths:o}){this.lastBody=null,this.redirectingToUrl=null,this.visits=[],this.layeredContainerID=e,this.loginPath=n,this.fullReloadPaths=o,this.layeredContentSelectors=t}get layeredContainer(){const{layeredContainerID:e,hostNode:t}=this;return t.ownerDocument.getElementById(e)}hydrate(){this.lastBody&&this.updateBody(this.lastBody,[],[])}visit(e){const{url:t,xhr:n,method:o,form:a,submitter:r}=e,s=new Se({url:t,xhr:n,method:o,form:a,submitter:r}),i=t&&Object(X.g)(t);if(null==a&&(null==o||o===V.Method.Get)&&i&&this.fullReloadPaths.some(e=>e.test(i)))return s.cancel(W.ForceReload),this.fullPageReload(s),s;if(this.redirectingToUrl&&this.redirectingToUrl===t)return this.redirectingToUrl=null,s.cancel(W.Redirect),s;null==n&&this.cancelVisits(),this.redirectingToUrl=null,this.visits.push(s),t&&Y("page:fetch",{url:t});const c=Object(G.now)();let l;try{l=s.getUpstreamDocument()}catch(d){return s.cancelReason===W.Attachment?(Y("page:attachment",d&&d.xhr),s):(Y("page:error",d&&d.xhr),s.cancelReason===W.InvalidContent&&this.fullPageReload(s),s)}return"then"in l?this.replace(s,l,e,c):this.replaceSync(s,l,e,c)}replace(e,t,n,o){return Ne(this,void 0,void 0,function*(){let a;try{a=yield t,null!=o&&n.onCompleteRequest&&n.onCompleteRequest({start:o,duration:Object(G.now)()-o})}catch(r){return e.cancelReason===W.Attachment?(Y("page:attachment",r&&r.xhr),e):(Y("page:error",r&&r.xhr),e.cancelReason===W.InvalidContent&&this.fullPageReload(e),e)}return this.receiveUpstreamResults(e,a),yield this.loadHeadAssets(e,a,n),e.cancelReason===W.AssetConflict?(a.finalUrl&&ke(a.finalUrl)?this.fullPageNavigate(a.finalUrl):this.fullPageReload(e,a.finalUrl),e):(this.loadUpstreamResults(e,a,n),e)})}replaceSync(e,t,n,o){return null!=o&&n.onCompleteRequest&&n.onCompleteRequest({start:o,duration:Object(G.now)()-o}),this.receiveUpstreamResults(e,t),this.loadUpstreamResults(e,t,n),e}destruct(){this.cancelVisits(),Y("page:before-partial-replace",[this.hostNode]),Re(this.hostNode),_e(this.layeredContainerID)}pageWillLeave(e){if(!this.redirectingToUrl)return!!Y("page:before-change",Ee(e).href)&&void this.cancelVisits()}fullPageNavigate(e){Y("page:before-full-refresh",{url:e}),window.location.assign(e)}fullPageReload({url:e,cancelReason:t},n){let o=n||e||window.location.href;if(t===W.InvalidContent){const e=new URL(o,window.location.origin),t=new URLSearchParams(e.search);t.append("adminNext","1"),e.search=t.toString(),o=e.toString()}Y("page:before-full-refresh",{url:o}),window.location.replace(o)}loadHeadAssets(e,t,n){return Ne(this,void 0,void 0,function*(){if(e.cancelled)return;const{hostNode:{ownerDocument:o}}=this,{upstreamDocument:a}=t;(null==n.partialReplace?Boolean(n.onlyKeys&&n.onlyKeys.length>0||n.exceptKeys&&n.exceptKeys.length>0):n.partialReplace)||(yield this.updateHeadAssets(o,a))||e.cancel(W.AssetConflict)})}loadUpstreamResults(e,t,{callback:n,onlyKeys:o=[],exceptKeys:a=[],updatePushState:r=!0}){if(void 0!==e.cancelReason&&!J.includes(e.cancelReason))return;const{upstreamDocument:s,finalUrl:i}=t,c=e.cancelled?document.createElement("body"):s.body.cloneNode(!0);this.lastBody=s.body;const l=this.updateBody(c,o,a);Y("page:change"),Y("page:update"),r&&i&&ke(i)&&this.updateHistory(i,{replace:!0}),n&&n({title:s.title}),function(e){const t=window.$;null==t?e():t(document).ready(e)}(()=>Y("page:load",l)),e.nodes=l}receiveUpstreamResults(e,t){if(e.cancelled)return;const{finalUrl:n}=t,o=n&&e.url&&this.externalRedirect(e.url,n);if(o)return location.assign(o),void e.cancel(W.Redirect);const a=n&&Object(X.g)(n);if(a&&this.fullReloadPaths.some(e=>e.test(a)))return location.replace(n),void e.cancel(W.ForceReload);Y("page:receive",{url:e.url,finalUrl:n})}externalRedirect(e,t){const{loginPath:n}=this;return!!t&&(Object(X.d)(t)&&new URL(t).origin!==location.origin?t:!!Object(X.g)(t).startsWith(n)&&`${n}?redirect=${encodeURIComponent(Object(X.g)(e))}`)}updateHeadAssets(e,t){return Ne(this,void 0,void 0,function*(){const n=1===this.visits.length,o=new fe(e,t,{includeUntrackedAssets:n});return!o.hasAssetConflicts()&&(yield o.load(),!0)})}cancelVisits(){this.visits.forEach(e=>e.cancel(W.Stale))}updateBody(e,t,n){const{hostNode:o,layeredContainerID:a,layeredContentSelectors:r}=this;if(t.length>0){const n=[...this.getNodesWithRefreshAlways(),...this.getNodesMatchingRefreshKeys(t)];return this.refreshNodes(n,e)}var s,i;o.setAttribute("class",""),o.classList.add(...Array.from(e.classList)),this.refreshNodes(this.getNodesWithRefreshAlways(),e),this.persistStaticElements(e),n.length?je(e,this.getNodesMatchingRefreshKeys(n)):(je(e,this.findNodesForAttribute(Q.RefreshNever)),function(e,t,n){_e(t);const o=document.createElement("div");o.setAttribute("id",t);const a=Array.from(e.querySelectorAll(n.join(",")));a.forEach(t=>{try{e.contains(t)&&e.removeChild(t)}catch(n){}}),a.forEach(e=>o.appendChild(e)),o.classList.add(...Array.from(e.classList)),document.body.appendChild(o)}(e,a,r)),Y("page:before-replace"),function(e,t){const n=e.childNodes;Re(e),Y("page:after-node-removed",n),e.innerHTML=t.innerHTML}(o,e),s=o,i=document,Array.from(s.querySelectorAll(`script:not(${ce}):not([${Q.Eval}="false"]):not(${le})`)).forEach(e=>{Pe(e,i)})}persistStaticElements(e){const{hostNode:t}=this;je(e,Array.from(t.querySelectorAll(ne(Q.Static))))}getNodesWithRefreshAlways(){return this.findNodesForAttribute(Q.RefreshAlways)}getNodesMatchingRefreshKeys(e){return e.map(e=>this.findNodesForAttribute(Q.RefreshKey,e)).reduce((e,t)=>[...t,...e],[])}findNodesForAttribute(e,t){const{hostNode:n,layeredContainer:o}=this,a=ne(e,t);return[...o?o.querySelectorAll(a):[],...n.querySelectorAll(a)]}refreshNodes(e,t){const{ownerDocument:n}=this.hostNode;return Y("page:before-partial-replace",e),e.filter(t=>e.filter(e=>e!==t).every(e=>!e.contains(t))).reduce((e,o)=>{const a=o.getAttribute("id");if(null==a)throw new Error("TurboGears refresh: Refresh key elements must have an id.");const r=t.querySelector(`#${a}`);if(r){const t=r.cloneNode(!0);Le(t,o);const a="SCRIPT"===t.nodeName,s="false"!==t.getAttribute(Q.Eval);return a&&s?(Pe(t,n),e):[...e,t]}return oe(o,Q.RefreshAlways)||Y("page:after-node-removed",function(e){const{parentNode:t}=e;if(null==t)throw new Error(`Cannot remove node ${e} since it has no parent`);return t.removeChild(e)}(o)),e},[])}updateHistory(e,{replace:t}={replace:!1}){const n=Ee(e),o=function(e){const{pathname:t,search:n,hash:o}=e;return`${t}${n}${o}`}(n);this.redirectingToUrl=n.href,t?this.router.replace(o):this.router.push(o)}};const Be=/\/\/cdn\.(myshopify\.io|shopify\.com)/;function Fe(){return[...document.styleSheets].filter(e=>e&&"string"==typeof e.href&&Be.test(e.href))}var De=function(e,t,n,o){return new(n||(n=Promise))(function(a,r){function s(e){try{c(o.next(e))}catch(t){r(t)}}function i(e){try{c(o.throw(e))}catch(t){r(t)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(s,i)}c((o=o.apply(e,t||[])).next())})};var Ue,$e,Te=n("./app/utilities/other.ts"),Me=function(e,t,n,o){var a,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};!function(e){e.ContextBarOn="CONTEXT_BAR_ON_EVENT",e.ContextBarOff="CONTEXT_BAR_OFF_EVENT",e.ContextBarUpdatePrimaryAction="CONTEXT_BAR_UPDATE_PRIMARY_ACTION"}(Ue||(Ue={})),function(e){e.ContextCreateName="data-context-create-name",e.ContextCancelPath="data-context-cancel-path",e.ContextCancelAttributes="data-context-cancel-attributes",e.ContextPrimaryAttributes="data-context-primary-attributes",e.ContextPrimaryDisabled="data-disable-submit"}($e||($e={}));class He{constructor({Form:e,dispatcher:t,contextBar:n,history:o,translate:a}){this.createModeEnabled=!1,this.cancelPath=null,this.history=o,this.dispatcher=t,this.Form=e,this.contextBar=n,this.translate=a,this.state={message:this.defaultMessage,cancelAction:{content:this.defaultSecondaryLabel,onAction:Te.d},primaryAction:{content:this.defaultPrimaryLabel,onAction:Te.d}}}get defaultMessage(){return this.translate("Common.unsavedChanges")}get defaultPrimaryLabel(){return this.translate("Common.save")}get defaultSecondaryLabel(){return this.translate("Common.discard")}init(){const{dispatcher:e,contextBar:t}=this;e.register(Ue.ContextBarOn,this.handleContextBarOn),e.register(Ue.ContextBarUpdatePrimaryAction,this.handleContextBarUpdatePrimaryAction),e.register(Ue.ContextBarOff,this.handleContextBarOff),document.addEventListener("page:load",this.handlePageLoad),document.addEventListener("page:before-replace",t.hide),this.handlePageLoad()}destroy(){const{dispatcher:e,contextBar:t}=this;e.remove(Ue.ContextBarOn,this.handleContextBarOn),e.remove(Ue.ContextBarUpdatePrimaryAction,this.handleContextBarUpdatePrimaryAction),e.remove(Ue.ContextBarOff,this.handleContextBarOff),document.removeEventListener("page:load",this.handlePageLoad),document.removeEventListener("page:before-replace",t.hide)}handlePageLoad(){const{dispatcher:e}=this,t=document.querySelector(`form[${$e.ContextCreateName}]`);if(null==t)return this.cancelPath=null,void this.disableCreateMode();this.enableCreateMode();const n={form:t.id};this.cancelPath=t.getAttribute($e.ContextCancelPath),e.dispatch({type:Ue.ContextBarOn,data:{message:this.defaultMessage,primaryAttr:n}})}handleContextBarOff(){const{createModeEnabled:e,contextBar:t}=this;e||t.hide()}handleContextBarUpdatePrimaryAction({data:e}){this.setState({primaryAction:Object.assign({content:"",onAction:Te.d},this.state.primaryAction,e)}),this.updateContextBar()}handleContextBarOn({data:e}){const{history:t,Form:n,cancelPath:o}=this,{primaryLabel:a=this.defaultPrimaryLabel,cancelLabel:r=this.defaultSecondaryLabel,message:s=this.defaultMessage,primaryAttr:i={}}=e,{form:c,[$e.ContextPrimaryDisabled]:l}=i,d=c?document.querySelector(`form#${c}`):document.querySelector("form");if(!d){throw new Error(`Attempted to initialize context bar on ${c?`node with id ${c}`:"the first available form"} but no node was found`)}this.setState({message:s,primaryAction:{content:a,onAction:()=>{if(function(){const e=window,t=document.createElement("div");Object.keys(i).forEach(e=>{t.setAttribute(e,i[e])}),t.setAttribute("style","display:none"),document.body.appendChild(t),e.Twine.bind(t),t.click(),document.body.removeChild(t)}(),l)return;this.setState({primaryAction:Object.assign({content:"",onAction:Te.d},this.state.primaryAction,{loading:!0,disabled:!0})}),this.updateContextBar();const e=document.createElement("input");e.style.display="none",e.type="submit",d.appendChild(e).click(),d.removeChild(e)}},cancelAction:{content:r,showConfirmation:this.showConfirmation,onAction(){if(o)return n.makeClean(),void t.push(o);n.resetChanges()}}}),this.showContextBar()}updateContextBar(){this.contextBar.update(this.state)}showContextBar(){this.contextBar.show(this.state)}setState(e){this.state=Object.assign({},this.state,e)}get showConfirmation(){return this.createModeEnabled&&this.Form._dirtyForm}enableCreateMode(){this.createModeEnabled=!0}disableCreateMode(){this.createModeEnabled=!1}}Me([m.autobind],He.prototype,"handlePageLoad",null),Me([m.autobind],He.prototype,"handleContextBarOff",null),Me([m.autobind],He.prototype,"handleContextBarUpdatePrimaryAction",null),Me([m.autobind],He.prototype,"handleContextBarOn",null),Me([m.autobind],He.prototype,"showConfirmation",null);var qe=He;const Ie="normalized-pathname";var ze=n("./app/utilities/url/index.ts"),We=function(e,t,n,o){return new(n||(n=Promise))(function(a,r){function s(e){try{c(o.next(e))}catch(t){r(t)}}function i(e){try{c(o.throw(e))}catch(t){r(t)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(s,i)}c((o=o.apply(e,t||[])).next())})};let Ke=!1;function Ve({errorLogger:e,tracking:t}){Ke||(!function(e){e.leaveBreadcrumb("Turbograft:init",{to:window.location.pathname}),document.addEventListener("page:fetch",t=>{const n=t&&t.data&&t.data.url;let o;n&&(o=n.startsWith("/")?n:new URL(n).pathname),e.leaveBreadcrumb("Turbograft:fetch",{to:o})}),document.addEventListener("page:load",()=>{e.leaveBreadcrumb("Turbograft:load",{to:window.location.pathname})}),document.addEventListener("page:after-script-inserted",t=>{const n=t&&t.data,o=n&&"function"==typeof n.getAttribute?n.getAttribute("type"):void 0,a=n&&"function"==typeof n.getAttribute?n.getAttribute("src"):void 0;null!=o&&"text/javascript"!==o&&"module"!==o||e.leaveBreadcrumb("Turbograft:insert-script",{src:a||"inline"})}),document.addEventListener("page:#script-error",t=>{const n=t&&t.data&&t.data.target&&t.data.target.src;e.notify({name:"Turbograft:script-error",message:""},{metaData:{scriptSrc:n}})})}(e),function(e){const t=window;t.__track_admin_bundles=!0,t.Bugsnag={get metaData(){return e.metaData},disable(){},notify(t,n,o,a){const r={metaData:("object"==typeof n?n:o)||{},severity:a};if("string"!=typeof t)e.notify(t,r);else{const o="string"==typeof n?n:"";e.notify({name:t,message:o},r)}},notifyException(t,n,o){const a="string"==typeof n?Object.assign({},o,{groupingHash:n}):n,r=t instanceof Error?t:{name:t.error?t.error.name:"Unknown error",message:t.message||t.error&&t.error.message||"No error message"};a?e.notify(r,{metaData:a}):e.notify(r)},leaveBreadcrumb(t,n){e.leaveBreadcrumb(t,n)}}}(e),function(e){document.addEventListener("page:load",()=>{const t=document.querySelector(`meta[name="${Ie}"]`);if(null==t)return;const n=t.getAttribute("content");n&&e.pageView(n)})}(t),Ke=!0)}let Ge=!1;function Xe({history:e,loading:t,flash:n,turboGears:o,addSalesChannelModal:a,unlockAdminNextScroll:r}){var s;Ge||Ze()||(!function(e){const t=window,{Shopify:n}=t;function o(){n.AddChannelModal={show:()=>e.open()}}o(),document.addEventListener("page:load",o)}(a),function(e){const t=window,{Loading:n}=t.Shopify;n.start=e.start.bind(e),n.stop=e.reset.bind(e)}(t),function(e){const t=window,{Flash:n}=t.Shopify;n.error=(t=>{"string"==typeof t&&e.show({content:t,error:!0})}),n.notice=(t=>{"string"==typeof t&&e.show({content:t})})}(n),document.addEventListener("page:receive",({data:e={}})=>{const{xhr:t,response:n}=e;(t&&t.getResponseHeader(y.a.LoginRequired)||n&&n.headers[y.a.LoginRequired])&&location.assign("/admin/auth/login")}),window.$.ajaxPrefilter(function({url:e},t,n){n.url=e}),function(e,t,n){const o=window,{Page:a,Turbolinks:r}=o;r.visit=((o,a={})=>De(this,void 0,void 0,function*(){if(a.reload)return window.location.assign(o);let r=o;if(o.startsWith(window.location.origin)){const{pathname:e,search:t,hash:n}=new URL(o);r=`${e}${t}${n}`}const{onlyKeys:s,exceptKeys:i,partialReplace:c,callback:l,updatePushState:d}=a;if(s||i||c||l||d)return yield e.visit(Object.assign({},a,{url:r})),void n();t.push(r)})),a.visit=r.visit,r.loadPage=((t,o,a)=>{if(t)throw new Error("loadPage invoked with a url - visit not successfully patched.");if(!o)throw new Error("loadPage invoked without an xhr - visit not successfully patched.");e.visit(Object.assign({},a,{url:t,xhr:o})),n()})}(o,e,r),function(e,t){const n=window,{Loading:o}=n.Shopify;let a;document.addEventListener("click",e=>{a=e.target}),document.addEventListener("submit",n=>We(this,void 0,void 0,function*(){const r=n.target,{target:s,action:i}=r;if(n.defaultPrevented||"_blank"===s||!Object(ze.d)(i)||oe(r,Q.ForceNative))return;n.preventDefault();const c=r.action,l=r.method,d=!a||"SUBMIT"!==a.nodeName&&"submit"!==a.getAttribute("type")?void 0:a;yield e.visit({url:c,form:r,submitter:d,method:l}),t(),o.stop()}))}(o,r),s=o,document.addEventListener("click",e=>{const{target:t}=e;if(t===document)return;const n=t;"A"===n.nodeName&&"get"===n.dataset.method&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),s.visit({url:n.getAttribute("href")}))},{capture:!0}),Ge=!0)}function Je({easdkNav:e,contextBar:t,history:n,translate:o}){if(Ze())return{};const a=function(e,t,n){const o=window,{Shopify:{rootDispatcher:a,Form:r}}=o,s=new qe({Form:r,history:t,contextBar:e,translate:n,dispatcher:a});return s.init(),s}(t,n,o);return function(e){const t=window,n=document.documentElement,o=t.Twine.context(n),a=o&&o.app&&o.app.host;if(null!=a){const n=a.slug,o=t.Shopify.routes.app(n).html;a.renderNav=(t=>{e.set(t?t.map(e=>Object.assign({},e,{url:o+e.url})):[])}),a.navSelect=(t=>{e.select(t)})}}(e),{contextBarManager:a}}function Qe({easdkNav:e},{contextBarManager:t}={}){Ze()||(null!=t&&t.destroy(),e.set(null))}function Ye(){null!=window._&&function(){const e=window,{_:t}=e;t.templateSettings.escape=/(?:\[%|\{\{)=([\s\S]+?)(?:\}\}|%\])/g,t.templateSettings.evaluate=/(?:\[%|\{\{)([\s\S]+?)(?:\}\}|%\])/g,t.templateSettings.interpolate=/(?:\[%|\{\{)!([\s\S]+?)(?:\}\}|%\])/g}()}function Ze(){const e=function(){const e=window;return{Shopify:null!=e.Shopify,Twine:null!=e.Twine,Page:null!=e.Page,jQuery:null!=e.$,rootDispatcher:null!=e.Shopify&&null!=e.Shopify.rootDispatcher,Form:null!=e.Shopify&&null!=e.Shopify.Form}}();return!Object.keys(e).every(t=>e[t])}n.d(t,"ADMIN_NEXT_SCROLL_LOCK",function(){return nt});var et=function(e,t,n,o){var a,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(s=(r<3?a(s):r>3?a(t,n,s):a(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},tt=function(e,t,n,o){return new(n||(n=Promise))(function(a,r){function s(e){try{c(o.next(e))}catch(t){r(t)}}function i(e){try{c(o.throw(e))}catch(t){r(t)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(s,i)}c((o=o.apply(e,t||[])).next())})};const nt="ui-app-frame--scroll-lock",ot="Admin-Next 500 error",at=new Oe({layeredContainerID:"admin-next-layered",loginPath:"/admin/auth/login",fullReloadPaths:b.b,layeredContentSelectors:["#modal_backdrop","#modal_container","#UIModalContainer"]});var rt;!function(e){e[e.NotFound=0]="NotFound",e[e.ServerError=1]="ServerError",e[e.Loading=2]="Loading",e[e.Done=3]="Done"}(rt||(rt={}));class st extends o.Component{constructor(){super(...arguments),this.state={visitState:rt.Loading},this.hostNode=null,this.mounted=!0,this.unregisterHistoryListener=null,this.contextBar={show:e=>{this.mounted&&this.setState({contextBar:Object.assign({},e,{visible:!0})})},update:e=>{this.mounted&&this.setState(({contextBar:t={}})=>({contextBar:Object.assign({visible:!1},t,e)}))},hide:()=>{this.mounted&&this.setState(({contextBar:e})=>({contextBar:Object.assign({},e,{visible:!1})}))}}}componentDidMount(){const{location:e,history:t}=this.props;this.unregisterHistoryListener=t.block(ct),at.hydrate();const n=it(e);this.updatePage(n,!0),function(){const e=Fe();for(const t of e)t.disabled=!1}(),Ye(),document.addEventListener("page:load",this.handlePageLoad),document.addEventListener("page:attachment",this.handleAttachmentDownload)}componentWillReceiveProps(e){const{location:t}=this.props,{location:n}=e;if(t.pathname!==n.pathname||t.search!==n.search){const e=it(n),{origin:o,pathname:a}=new URL(e),{origin:r,pathname:s}=new URL(it(t)),i=o!==r||a!==s;this.updatePage(e,i)}}shouldComponentUpdate(e,t){const{location:n}=e,{location:o}=this.props,{visitState:a,title:r,attachment:s,contextBar:i}=t,{title:c,visitState:l,attachment:d,contextBar:u}=this.state;return o.pathname!==n.pathname||l!==a||c!==r||d!==s||!function(e,t){if(null==e)return null==t;if(null==t)return!1;return e.message===t.message&&e.visible===t.visible&&e.primaryAction===t.primaryAction&&e.cancelAction===t.cancelAction}(u,i)}componentWillUnmount(){const{history:e,loading:t,flash:n,easdkNav:o,errorLogger:a,tracking:r,addSalesChannelModal:s,translate:i}=this.props;!function(){const e=Fe();for(const t of e)t.disabled=!0}();const c={history:e,loading:t,contextBar:this.contextBar,easdkNav:o,errorLogger:a,flash:n,tracking:r,turboGears:at,addSalesChannelModal:s,unlockAdminNextScroll:lt,translate:i};lt(),Qe(c,this.everyVisitState),at.destruct(),document.removeEventListener("page:load",this.handlePageLoad),document.removeEventListener("page:attachment",this.handleAttachmentDownload),this.mounted=!1,this.unregisterHistoryListener&&this.unregisterHistoryListener()}render(){const{title:e,visitState:t,attachment:n,contextBar:s}=this.state,c=e?o.createElement(u.Title,null,e):null,l=Object(a.classNames)(S.AdminNextFallback,t===rt.Loading&&S.loading),h=n?o.createElement(i.a,Object.assign({},n)):null,m=s?o.createElement(A.a,Object.assign({},s)):null;let f=null,g=null;if(t===rt.ServerError)throw new Error(ot);return t===rt.NotFound?(f=o.createElement(C.a,null),g=o.createElement(p.a,{id:"AdminNextFallback",stage:"complete"})):t===rt.Loading?f=o.createElement(o.Fragment,null,o.createElement(r.a,null),o.createElement("div",{className:S.Fallback},o.createElement("div",{className:S.Skeleton},o.createElement(K,null)))):t===rt.Done&&(g=o.createElement(p.a,{id:"AdminNextFallback",stage:"complete"})),o.createElement("div",{className:l},o.createElement(d,{name:"isAdminNextFallback"}),c,m,h,f,g,o.createElement("div",{ref:this.setHostNode,className:S.HostNode}))}updatePage(e,t){return tt(this,void 0,void 0,function*(){const{hostNode:n}=this,{performance:o}=this.props;if(null==n)return;lt(),t&&(this.resetScroll(),this.startLoading()),Qe(this.patchDependencies,this.everyVisitState),Ve(this.patchDependencies);const a=yield at.visit({url:e,referer:window.location.href,callback:this.updateTitle,onCompleteRequest({start:e,duration:t}){o&&o.event({type:"adminNext",start:e,duration:t})}}),{cancelled:r,cancelReason:s,normalizedUrl:i,xhr:c}=a;this.mounted&&(s===W.Attachment&&c?this.setState({attachment:yield dt(c)}):(s!==W.ServerError&&s!==W.NetworkError||this.setState({visitState:rt.ServerError}),s===W.NotFound&&this.setState({visitState:rt.NotFound}),r?this.props.errorLogger.leaveBreadcrumb("TurboGears::VisitCancelled",{cancelReason:s,normalizedUrl:i}):(this.setState({visitState:rt.Done}),Xe(this.patchDependencies),this.everyVisitState=Je(this.patchDependencies))))})}get patchDependencies(){const{history:e,loading:t,flash:n,easdkNav:o,errorLogger:a,tracking:r,addSalesChannelModal:s,translate:i}=this.props;return{history:e,loading:t,contextBar:this.contextBar,easdkNav:o,errorLogger:a,flash:n,tracking:r,turboGears:at,addSalesChannelModal:s,unlockAdminNextScroll:lt,translate:i}}startLoading(){this.mounted&&this.setState({contextBar:void 0,visitState:rt.Loading})}resetScroll(){const{scrollingElement:e}=document;if(e){const{scrollLockManager:t}=this.context.polaris;null!=t&&t.resetScrollPosition(),e.scrollTop=0}}handlePageLoad(){this.setState({visitState:rt.Done})}updateTitle({title:e}){this.setState({title:e})}setHostNode(e){if(null==e)return;if(this.hostNode)return;const t=document.createElement("div");e.appendChild(t),this.hostNode=t,at.hostNode=t,at.router=this.props.history}handleAttachmentDownload({data:e}){return tt(this,void 0,void 0,function*(){const t=yield dt(e);this.mounted&&this.setState({attachment:t})})}}function it(e){const{pathname:t,search:n,hash:o}=e;return`${window.location.origin}${t}${n}${o}`}function ct(e){if(e&&e.pathname!==window.location.pathname)return at.pageWillLeave(`${e.pathname}${e.search}${e.hash}`)}function lt(){document.body.classList.remove(nt)}function dt(e){return tt(this,void 0,void 0,function*(){return{filename:Object(y.c)(e),blob:yield Object(y.b)(e)}})}st.contextTypes=Object.assign({},s.a),et([m.autobind],st.prototype,"handlePageLoad",null),et([m.autobind],st.prototype,"updateTitle",null),et([m.autobind],st.prototype,"setHostNode",null),et([m.autobind],st.prototype,"handleAttachmentDownload",null);t.default=Object(f.a)(g.k,Object(v.a)())(function(e){return o.createElement(x.a.Consumer,null,t=>o.createElement(w.a.Consumer,null,n=>o.createElement(h.a.Consumer,null,a=>o.createElement(st,Object.assign({},e,{performance:a,easdkNav:n,addSalesChannelModal:t})))))})},"./app/sections/Analytics/components/CustomIndexSkeleton/CustomIndexSkeleton.scss":function(e,t,n){e.exports={DescriptionContainer:"_2dV5k",Description:"_1zDFu"}},"./app/utilities/interop.ts":function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return r});const o=[/^\/admin\/tmp/,/^\/admin\/bar/,/^\/admin\/account_setup/,/^\/admin\/api/,/^\/admin\/users($|\/$)/,/^\/admin\/fonts/,/^\/admin\/home\/(activity_)?feed/,/^\/admin\/shipping_labels\/download/,/^\/admin\/orders\/[0-9]+\/shipping_labels\/[0-9]+\/([0-9]+\/)?(download|print)/,/^\/admin\/files\/.*\/download$/,/^\/admin\/subscription\/upgrade_plan_modal$/,/^\/admin\/subscription\/extend/,/^\/admin\/account_setup/,/^\/admin\/app_store/,/^\/admin\/bars/,/^\/admin\/merchant_checkouts/,/^\/admin\/rte/,/^\/admin\/account\/please_upgrade/,/^\/admin\/account\/destroy/,/^\/admin\/draft_orders\/\d+\/invoice_preview/,/^\/admin\/online_store\/theme_preview\/merchant_auth/,/^\/admin\/scripts\/preview/,/^\/admin\/capital\/export/,/\/timeline_comments\/\d+\/attachment_url\/\d+/,/^\/admin\/payments\/stripe_connect/,/^\/admin\/settings\/payments\/paypal-oauth/,/^\/admin\/payments\/quickbooks_grant/,/^\/admin\/fulfillment_services\/signup_for_mws/,/^\/admin\/home\/consume_cards/,/^\/admin\/settings\/shipping\/print_test_label/,/^\/admin\/shipping\/test-label/,/^\/admin\/google\/connect/,/^\/admin\/retail_logs/,/^\/admin\/webhooks/,/^\/admin\/collects/,/^\/admin\/events/,/^\/admin\/\w+_saved_searches/,/^\/admin\/\w+\/\d+\/(events|metafields)/,/^\/admin\/products\/\d+\/variants\/\d+\/(events|metafields)/,/^\/admin\/blogs\/\d+\/articles\/\d+\/(events|metafields)/,/^\/admin\/products\/(\d+\/)?variants\/?$/,/^\/admin\/.*\/count\/?$/,/^\/admin\/charges\/\d+\/confirm(_recurring)?_application_charge/,/^\/admin(?!\/apps\/[\w\d]+).*\.(?!x?html)\w+($|\?|#)/,/^\/admin\/auth/,/^\/admin\/saml_auth/,/^\/admin\/staff/,/^\/admin\/oauth(?!\/request_grant)/,/^\/admin\/shopify_web\/oauth/,/^\/admin\/settings\/domains\/initiate_inter_shop_domain_transfer/],a=/\/admin\/themes\/(\d+|current)\/(editor|settings)/;function r(e){return a.test(e)}},"./node_modules/@shopify/polaris/esnext/components/ContextualSaveBar/index.js":function(e,t,n){"use strict";var o=n("./node_modules/react/index.js"),a=n("./node_modules/lodash/isEqual.js"),r=n.n(a),s=n("./node_modules/@shopify/polaris/esnext/components/Frame/types.js");class i extends o.PureComponent{componentDidMount(){this.context.frame.setContextualSaveBar(this.props)}componentWillUnmount(){this.context.frame.removeContextualSaveBar()}componentDidUpdate(e){(function({message:e,saveAction:t,discardAction:n},{message:o,saveAction:a,discardAction:s}){return Boolean(e!==o||!r()(t,a)||!r()(n,s))})(this.props,e)&&this.context.frame.setContextualSaveBar(this.props)}render(){return null}}i.contextTypes=s.a;var c=i;t.a=c},"./packages/@shopify/polaris-next/components/FileDownloader/index.ts":function(e,t,n){"use strict";var o=n("./node_modules/react/index.js"),a=n("./node_modules/@shopify/polaris/esnext/components/VisuallyHidden/index.js");t.a=class extends o.PureComponent{constructor(){super(...arguments),this.state={},this.link=o.createRef()}static getDerivedStateFromProps({url:e,blob:t},{lastUrl:n,lastBlob:o}){return e&&e===n?null:t&&t===o?null:{lastUrl:e,lastBlob:t,url:e||t&&URL.createObjectURL(t)}}componentDidMount(){this.triggerDownload()}componentDidUpdate(e,t){(this.props.url&&e.url!==this.props.url||this.props.blob&&e.blob!==this.props.blob)&&this.triggerDownload(),t.url&&!this.state.url&&URL.revokeObjectURL(t.url)}render(){const{filename:e}=this.props,{url:t}=this.state;return null==t?null:o.createElement(a.a,null,o.createElement("a",{href:t,download:e||!0,ref:this.link}," "))}useDataUrl(e){const t=new FileReader;t.onload=(()=>{const{result:e}=t;"string"==typeof e&&this.setState({url:e},()=>{const{current:e}=this.link;e&&e.click()})}),t.readAsDataURL(e)}triggerDownload(){const{current:e}=this.link,{blob:t,filename:n}=this.props,o=HTMLAnchorElement.prototype.hasOwnProperty("download"),a=window.navigator&&window.navigator.msSaveOrOpenBlob;t&&!o?this.useDataUrl(t):t&&a?window.navigator.msSaveOrOpenBlob(t,n):e&&this.state.url&&e.click(),this.setState({url:void 0})}}}}]);