!function(){var e=function(e){var t={exports:{}};return e.call(t.exports,t,t.exports),t.exports},B=function(){function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),e}}(),x=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},q=function(e){return e&&e.__esModule?e:{"default":e}},V=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},j=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},I=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t["default"]=e,t},U=function L(e,t,i){null===e&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,t);if(a===undefined){var n=Object.getPrototypeOf(e);return null===n?undefined:L(n,t,i)}if("value"in a)return a.value;var o=a.get;return o===undefined?undefined:o.call(i)},W=function(){function i(e,t){var i=[],a=!0,n=!1,o=undefined;try{for(var s,r=e[Symbol.iterator]();!(a=(s=r.next()).done)&&(i.push(s.value),!t||i.length!==t);a=!0);}catch(u){n=!0,o=u}finally{try{!a&&r["return"]&&r["return"]()}finally{if(n)throw o}}return i}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return i(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),G=Shopify.Components,N=Shopify.Loading,d=Shopify.Keycodes,c=Shopify.hotshot,f=Shopify.Browser,Y=Shopify.Time,p=Shopify.Money,m=Shopify.Number,a=Shopify.AnalyticsAPI,v=Shopify.Inflection,n=Shopify.routes,C=Shopify.range,o=window.Page;(function(){var n=function(e,t){return function(){return e.apply(t,arguments)}};Shopify.Remote=function(){function e(e,t,i,a){this.ajaxOptions=null!=e?e:{},this.refreshOnSuccess=t,this.refreshOnError=i,this.fullRefresh=null!=a&&a,this.submit=n(this.submit,this)}return e.prototype.submit=function(){var e,s,n;Shopify.Loading.start(),(e=$.ajax(this.ajaxOptions)).always(function(){return Shopify.Loading.stop()}),e.done((s=this,function(e,t,i){var a,n,o;if(!(a=i.getResponseHeader("X-Next-Redirect")))return null!=(n=s.ajaxOptions.done)&&n.apply(null,arguments),o=s.refreshOnSuccess?s.refreshOnSuccess.split(" "):[],s.fullRefresh?Page.refresh({onlyKeys:o}):"false"!==s.refreshOnSuccess?Page.refresh({response:i,onlyKeys:o}):void 0;Page.visit(a,{reload:!0})})),e.fail((n=this,function(e,t,i){var a;if(null!=(a=n.ajaxOptions.fail)&&a.apply(null,arguments),"false"!==n.refreshOnError)return n.refreshOnError?Page.refresh({response:e,onlyKeys:n.refreshOnError.split(" ")}):Shopify.handleError(e,t,i)}))},e}()}).call(this),function(){Shopify.DashboardActivity=function(){function e(e){this.activityFilter=e||"all"}return e.prototype.activityLoading=!1,e.prototype.loadMoreActivity=function(e){var t;return this.activityLoading=!0,this.xhr&&this.xhr.abort(),this.xhr=$.ajax({dataType:"html",data:{activity_pages:e,activity_filter:this.activityFilter},url:"/admin/dashboard/activity_feed",success:(t=this,function(){return Page.refresh({onlyKeys:["dashboardActivity"],response:t.xhr})}),done:function(){return this.activityLoading=!1}}),this.xhr.fail(Shopify.handleError)},e}()}.call(this),function(){var n=function(e,t){return function(){return e.apply(t,arguments)}};Shopify.SummaryReport=function(){function e(e,t,i){var a;null==t&&(t={}),this.querySource=i,this.changeChannelProvider=n(this.changeChannelProvider,this),this.changeDateRange=n(this.changeDateRange,this),this.$node=$(e),this.queryProps||(this.queryProps={startDate:"-30d",endDate:"-1d",channelFilter:""}),(a=Object.assign({},t.actionConfig))[Shopify.SummaryReportChannelpicker.CHANNEL_CHANGED_EVENT]=this.changeChannelProvider,Shopify.rootDispatcher.register(a).bindToNode(e),this.initializeView(),this._load()}return e.prototype.FINANCES_PATH="finances/show",e.prototype.queries=function(){throw new Error("Subclasses must define at least one shopifyQL query.")},e.prototype.initializeView=function(){},e.prototype.createTemplate=function(e){var t;return t=this.$node.find(e).remove(),_.template(t.html())},e.prototype.append=function(e,t){return this.$node.empty(),this.$node.append(e(t))},e.prototype.extractKey=function(e){var t,i;return t=e.query.columns[0].field,(i=Shopify.Inflection.classify(t)).charAt(0).toLowerCase()+i.substring(1)},e.prototype.changeDateRange=function(e){var t,i,a;return a=(i=e.data).startDate,t=i.endDate,this.queryProps.startDate=a,this.queryProps.endDate=t,this._load()},e.prototype.changeChannelProvider=function(e){var t,i,a;return t=(a=e.data.split("-"))[0],i=a[1],"all"===t?this.queryProps.channelFilter="":"other"===t?this.queryProps.channelFilter="WHERE channel_provider_id == 0":(this.queryProps.channelFilter="WHERE api_client_id == "+t,i&&(this.queryProps.channelFilter+=" AND pos_location_id == '"+i+"'")),this._load()},e.prototype._load=function(){var t,i;return this.renderLoading&&this.renderLoading(),t=this.queries(),Promise.all(function(){var e;for(i in e=[],t)e.push(Shopify.AnalyticsAPI.query(t[i],Shopify.AnalyticsAPI.QUERIES_ENDPOINT,this.querySource));return e}.call(this)).then(this.renderResult.bind(this))["catch"](this.renderError.bind(this))},e.prototype.renderResult=function(){throw new Error("Subclasses must handle successful query results.")},e.prototype.renderError=function(){throw new Error("Subclasses must handle failed query results.")},e}()}.call(this),function(){var t,i,a,n=function(e,t){return function(){return e.apply(t,arguments)}};i="reports:channelpicker:channel-changed",t="reports:channelpicker:after-channel-changed",a="SHOW orders\nFROM sales\nWHERE financial_status != 'refunded'\nSINCE -90d\nUNTIL 0d",Shopify.SummaryReportChannelpicker=function(){function e(e,t,i){var a;this.querySource=i,this._onChannelChanged=n(this._onChannelChanged,this),this.channelLabels={},this.$node=$(e),t.forEach((a=this,function(e){var t;return e.id.split("-")[1]?(t=e.name.indexOf("\u2014"),a.channelLabels[e.id]=e.name.substring(t+1)):a.channelLabels[e.id]=e.name})),Shopify.rootDispatcher.register(Shopify.SummaryReportChannelpicker.CHANNEL_CHANGED_EVENT,this._onChannelChanged).bindToNode(e),this._checkForOtherOrders()}return e.CHANNEL_CHANGED_EVENT=i,e.AFTER_CHANNEL_CHANGED_EVENT=t,e.prototype.setChannel=function(e){return this.currentChannelId=e,Shopify.rootDispatcher.dispatch({type:i,data:this.currentChannelId}),Shopify.UIPopover.deactivate()},e.prototype._onChannelChanged=function(e){return this.currentChannelId=e.data,this.currentChannelLabel=this.channelLabels[this.currentChannelId],Shopify.rootDispatcher.dispatch({type:t,data:this.currentChannelId})},e.prototype._checkForOtherOrders=function(){return Shopify.AnalyticsAPI.query(a,Shopify.AnalyticsAPI.QUERIES_ENDPOINT,this.querySource).then((t=this,function(e){if(0<e.result.data[0][0])return t.$node.find(".js-other-channel").removeClass("hide")}));var t},e}()}.call(this);e(function(e,t){"use strict";function a(e,t){$.ajax({url:e,type:"POST",data:t||{}})}Object.defineProperty(t,"__esModule",{value:!0});var n="https://youtube.com/embed",i=function(){function i(e,t){x(this,i),this.$node=$(e),this.options=t,this.videoVisible=!1}return B(i,[{key:"removeVideo",value:function e(){this.$node.html(""),this.videoVisible=!1}},{key:"render",value:function t(){this.$node.html(""),this.videoVisible=!0,$("<iframe>",{src:n+"/"+this.options.videoId+(this.options.videoParams||""),frameborder:0,allowfullscreen:""}).appendTo(this.$node),a(this.options.trackingUrl,this.options.trackingData)}}]),i}();t["default"]=i,Shopify.YoutubePlayer=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";function a(e){var t=document.createElement("iframe");return t.id=e,t.src=i(e),t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen",!0),t}function i(e){return o+"/"+e+"?"+s.join("&")+"&autoplay=true&player_id="+e}function n(e,t){$.ajax({url:e,type:"POST",data:t||{}})}Object.defineProperty(t,"__esModule",{value:!0});var o="https://player.vimeo.com/video",s=["title=0","byline=0","portrait=0","api=1"],r=function(){function i(e,t){x(this,i),this.node=e,this.options=t,this.videoVisible=!1}return B(i,[{key:"removeVideo",value:function e(){this.videoVisible=!1,this.iframe.remove()}},{key:"render",value:function t(){this.iframe=a(this.options.videoId),this.node.appendChild(this.iframe),this.videoVisible=!0,n(this.options.trackingUrl,this.options.trackingData)}}]),i}();t["default"]=r,Shopify.VimeoPlayer=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=q(_),d=q($),c=2,f=250,i=function(){function t(e){x(this,t),this.cleanup=this.cleanup.bind(this),this._consumedCards=this._consumedCards.bind(this),this._recordConsumedCards=this._recordConsumedCards.bind(this),this._resetTimer=this._resetTimer.bind(this),this.throttledFunction=h["default"].throttle(this._resetTimer,f),this.recentlyConsumedCards=new Set,this.requestId=e.requestId,this.$window=(0,d["default"])(window),Page.onReplace((0,d["default"])(".page")[0],this.cleanup)}return B(t,[{key:"watch",value:function e(){this.$window.on("scroll",this.throttledFunction),this._startTimer()}},{key:"cleanup",value:function i(){this._clearTimer(),this.$window.off("scroll",this.throttledFunction)}},{key:"_consumedCards",value:function a(){var s=this,r=[];return(0,d["default"])(".ui-feed__item--card").each(function(e,t){var i=(0,d["default"])(t),a=i.data("handle"),n=i.data("analytics-group"),o=e+1;s._isOnScreen(i)&&!s.recentlyConsumedCards.has(a)&&r.push({handle:a,analytics_group:n,position:o})}),r}},{key:"_recordConsumedCards",value:function n(){var t=this,e=this._consumedCards();e.forEach(function(e){return t.recentlyConsumedCards.add(e.handle)}),0<e.length&&this._submitConsumedCards(e)}},{key:"_isOnScreen",value:function o(e){var t=(0,d["default"])(".header").height()+(0,d["default"])("#turbo").height(),i=this.$window.scrollTop(),a={top:i+t,bottom:i+this.$window.height()},n=e.offset();return n.bottom=n.top+e.outerHeight(),n.top>=a.top&&n.bottom<=a.bottom}},{key:"_startTimer",value:function s(){this.timeout=window.setTimeout(this._recordConsumedCards,1e3*c)}},{key:"_clearTimer",value:function r(){this.timeout&&window.clearTimeout(this.timeout),this.timeout=null}},{key:"_resetTimer",value:function u(){this._clearTimer(),this._startTimer()}},{key:"_submitConsumedCards",value:function l(e){d["default"].ajax({url:"/admin/home/consume_cards",data:JSON.stringify({cards:e,original_request_id:this.requestId}),type:"POST",contentType:"application/json"})}}]),t}();t["default"]=i,Shopify.CardConsumption=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";function i(e,t){var i=500,a=400,n=["width="+i,"height="+a,"left="+(screen.width/2-i/2),"top="+(screen.height/2-a/2),"toolbar=no","location=no","directories=no","status=no","menubar=no","scrollbars=yes","copyhistory=no","resizable=yes"];window.open(e,t,n.join(" "))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i,Shopify.CenterPopup=null!=t["default"]?t["default"]:t});var s=e(function(e,t){"use strict";function R(e,t){L["default"].ajax({url:t,type:"POST",data:e})}Object.defineProperty(t,"__esModule",{value:!0});var M=q(Twine),H=q(_),L=q($),F={VOTE_DIALOG_HEADER:"next-card--home-card-feedback",VOTE_DIALOG_SURVEY:"js-home-vote-dialog-survey",VOTE_DIALOG_UPVOTE_THANKS:"js-home-vote-dialog-upvote-thanks",VOTE_DIALOG_DOWNVOTE_THANKS:"js-home-vote-dialog-downvote-thanks",FEEDBACK_OVERLAY:"home-card-overlay--feedback",FEEDBACK_COMMENT_BOX:"js-feedback-comment",FEEDBACK_OPTION:"feedback-form__item",FEEDBACK_OPTION_WRAPPER:"feedback-form",UNDO_OVERLAY:"js-home-card-undo-overlay",FEEDBACK_MENU:"js-feedback-menu",DROPDOWN_BUTTON:"js-dropdown-button",CARD:"next-card",HIDE:"hide",INVISIBLE:"feedback-overlay--invisible",POPOVER_BUTTON:"btn--popover-activator",UNDO_FEEDBACK:"feedback-overlay",FEEDBACK_BODY:"feedback-overlay__body",FEEDBACK_UNDO:"feedback-overlay__undo",FEED_ITEM:"ui-feed__item",FEEDBACK_FORM:"feedback-form"},V={UPVOTE:1,DOWNVOTE:0},j={ANIMATION:200,HIDE_CARD:2500,HIDE_VOTE_DIALOG:1250},U={FEEDBACK_BASE:0,FEEDBACK_REASON:20,FEEDBACK_REASON_SPACING:10,ICON_ORIGINAL:20,UNDO_OVERLAY:136,UNDO_FEEDBACK_OVERLAY:0,UNDO_FEEDBACK_CONFIRM:0},i=function(){function a(e,t){var i=1<arguments.length&&t!==undefined?arguments[1]:{};x(this,a),this.onAction=this.onAction.bind(this),this.hideVoteDialog=this.hideVoteDialog.bind(this),this._hideUndoOverlay=this._hideUndoOverlay.bind(this),this._unregisterOnActionListeners=this._unregisterOnActionListeners.bind(this),this.voteDialogValue=null,this.options=i,this.$node=(0,L["default"])(e),this.feedbackHeading="Send feedback",this.$cardNode=this.$node.find("."+F.CARD).first(),this.$voteDialogNode=this.$node.find("."+F.VOTE_DIALOG_HEADER),this.$popoverButtonNode=this.$node.find("."+F.POPOVER_BUTTON),this.$undoWithFeedback=this.$node.find("."+F.UNDO_FEEDBACK),this.$undoWithFeedbackParent=this.$node.closest("."+F.CARD),this.$undoWithFeedbackTopParent=this.$node.closest("."+F.FEED_ITEM),this._registerOnActionListeners(),Page.onReplace(e,this._unregisterOnActionListeners)}return B(a,[{key:"showDismissWithFeedback",value:function e(){R(this._getOptionsForSubmission({industry:this.options.current_industry}),this.options.not_my_industry_url),U.UNDO_FEEDBACK_OVERLAY=this.$node.outerHeight(),this._expandDismissWithFeedbackOverlay()}},{key:"hideDismissWithFeedback",value:function i(){var e=this;this.$undoWithFeedbackParent.animate({opacity:0,height:0,"min-height":0},{duration:j.ANIMATION,complete:function t(){e.$node.closest("."+F.FEED_ITEM).remove(),(0,L["default"])(".next-card.overlaid").length||window.location.reload()}})}},{key:"undoDismissWithFeedback",value:function n(){var e=this;R(this._getOptionsForSubmission({industry:this.options.current_industry}),this.options.undo_not_my_industry_url),this.$undoWithFeedbackParent.animate({height:U.UNDO_FEEDBACK_OVERLAY,"min-height":U.UNDO_FEEDBACK_OVERLAY},{duration:j.ANIMATION,complete:function t(){return e.$undoWithFeedbackParent.css({overflow:"",height:"","min-height":""})}}),this.$node.addClass(F.INVISIBLE)}},{key:"sendDismissWithFeedback",value:function o(){var e=this,t=this.$node.find("."+F.FEEDBACK_FORM).find("input[name!=other]").serializeArray(),i={accepted:[],rejected:[this.options.current_industry],other:""};t.forEach(function(e){"other_feedback"===e.name?i.other=e.value.toLowerCase():i.accepted.push(e.value.toLowerCase())}),"undefined"!=typeof i.accepted&&0<i.accepted.length||(i.accepted=[""]),R(this._getOptionsForSubmission(i),this.options.update_industries_url),this.$node.find("."+F.FEEDBACK_UNDO).remove(),this.$node.find("."+F.FEEDBACK_BODY).replaceWith(""),this._updateUndoWithFeedbackDialog({heading:"Thanks for the update",message:"We\u2019ll use your updated industry to show you more relevant content."}),U.UNDO_FEEDBACK_CONFIRM=this.$node.outerHeight(),this.$undoWithFeedbackParent.animate({height:U.UNDO_FEEDBACK_CONFIRM,"min-height":U.UNDO_FEEDBACK_CONFIRM},{duration:j.ANIMATION,complete:function a(){return e.$undoWithFeedbackParent.css({overflow:"hidden"})}})}},{key:"onAction",value:function s(e){var t={};H["default"].get(e,"target.dataset.buttonId")&&(t.button_id=H["default"].get(e,"target.dataset.buttonId")),this._trackEvent("register_card_engagement_url",t)}},{key:"dismiss",value:function t(){G.Popover.deactivate(),this._storeOriginalHeight(),this._resizeToUndoOverlayHeight(),this.$popoverButtonNode.addClass(""+F.HIDE),this._trackEvent("dismiss_card_url"),this._updateUndoDialog({heading:this.options.dismiss_title,message:this.options.dismiss_message,image:this.options.dismiss_image,action:"dismiss"}),this.$node.find("."+F.UNDO_OVERLAY).removeClass(F.HIDE)}},{key:"upvote",value:function r(){this.voteDialogValue=V.UPVOTE,this._trackEvent("upvote_card_url"),this._updateVoteDialogThanks()}},{key:"downvote",value:function u(){this.voteDialogValue=V.DOWNVOTE,this._trackEvent("downvote_card_url"),this._updateVoteDialogThanks()}},{key:"showFeedbackDialog",value:function l(){G.Popover.deactivate(),this.hideAfterFeedback=!1,this._storeOriginalHeight(),this._expandFeedbackDialog(),this.$popoverButtonNode.addClass(""+F.HIDE)}},{key:"showFeedbackDialogFromDismiss",value:function h(){this.hideAfterFeedback=!0,this.$node.find("."+F.UNDO_OVERLAY).addClass(""+F.HIDE),M["default"].refresh(),this._expandFeedbackDialog()}},{key:"showFeedbackDialogFromVote",value:function d(){this.hideVoteDialog(),this.hideAfterFeedback=!1,this.voteDialogValue===V.UPVOTE?(this.feedbackHeading="What did you find useful?",this.$node.find("."+F.FEEDBACK_OPTION).addClass(""+F.HIDE),this.$node.find("."+F.FEEDBACK_OPTION_WRAPPER).addClass(""+F.HIDE),this.selectedFeedbackOption="This is useful"):(this.$node.find('input[value="This is useful"]').closest("."+F.FEEDBACK_OPTION).addClass(""+F.HIDE),this.$node.find('input[value="This isn\'t useful"]').prop("checked",!0),this.selectedFeedbackOption="This isn't useful"),this._storeOriginalHeight(),this._expandFeedbackDialog(),this.$node.find("."+F.FEEDBACK_COMMENT_BOX).focus()}},{key:"hideFeedbackDialog",value:function c(){this.$node.find("."+F.FEEDBACK_OVERLAY).addClass(F.HIDE),null!==this.voteDialogValue&&(this.$node.find("."+F.FEEDBACK_OPTION).removeClass(""+F.HIDE),this.voteDialogValue===V.UPVOTE&&(this.$node.find("."+F.FEEDBACK_OPTION_WRAPPER).removeClass(""+F.HIDE),this.feedbackHeading="Send feedback"),this.voteDialogValue=null),this.selectedFeedbackOption=null,this.selectedFeedbackComment=null}},{key:"cancelFeedbackDialog",value:function f(){this.hideAfterFeedback?this.hide():(this.hideFeedbackDialog(),this._resizeToOriginalHeight(),this.$popoverButtonNode.removeClass(""+F.HIDE))}},{key:"hideVoteDialog",value:function p(){this.$voteDialogNode.animate({opacity:0,height:0,"min-height":0},{duration:j.ANIMATIONS})}},{key:"undo",value:function m(){"dismiss"===this.undoAction&&(this._trackEvent("undo_dismiss_card_url"),this._hideUndoOverlay())}},{key:"submitFeedback",value:function _(){var e=null===this.voteDialogValue?this.options.submit_feedback_url:this.options.card_vote_feedback_url;R({handle:this.options.handle,analytics_group:this.options.analytics_group,feedback:this.selectedFeedbackOption,comment:this.selectedFeedbackComment},e),this.hideAfterFeedback?this.hide():(this.hideFeedbackDialog(),this._resizeToUndoOverlayHeight(),this._updateUndoDialog({heading:"Thanks for your feedback",message:"It will be used to improve your home feed.",action:null}),this.$node.find("."+F.UNDO_OVERLAY).removeClass(F.HIDE),setTimeout(this._hideUndoOverlay,j.HIDE_CARD))}},{key:"isFeedbackSelected",value:function v(){return this.selectedFeedbackOption||this.selectedFeedbackComment}},{key:"hide",value:function y(){var e=this;this.$node.animate({opacity:0,height:0,"min-height":0},{duration:j.ANIMATION,complete:function t(){e.$node.remove(),(0,L["default"])(".next-card.overlaid").length||window.location.reload()}})}},{key:"_expandDismissWithFeedbackOverlay",value:function g(){var e=this.$undoWithFeedback.outerHeight();this.$undoWithFeedback.removeClass(F.INVISIBLE),this.$cardNode.closest("."+F.CARD).animate({height:e,"min-height":e},{duration:j.ANIMATION})}},{key:"_getOptionsForSubmission",value:function O(e){return Object.assign({handle:this.options.handle,analytics_group:this.options.analytics_group},e)}},{key:"_expandFeedbackDialog",value:function E(){var e=this;this.$node.find("."+F.FEEDBACK_OVERLAY).removeClass(F.HIDE),this.$node.find('input[type="radio"].feedback-reason').first().focus();var t=this._feedbackHeight();this.$cardNode.animate({height:t,"min-height":t},{duration:j.ANIMATION,complete:function i(){return e.$cardNode.css({overflow:"hidden"})}})}},{key:"_hideUndoOverlay",value:function T(){this._resizeToOriginalHeight(),this.$popoverButtonNode.removeClass(""+F.HIDE),this.$node.find("."+F.UNDO_OVERLAY).addClass(""+F.HIDE),M["default"].refresh()}},{key:"_updateVoteDialogThanks",value:function k(){var e=this.voteDialogValue===V.UPVOTE?F.VOTE_DIALOG_UPVOTE_THANKS:F.VOTE_DIALOG_DOWNVOTE_THANKS;this.$voteDialogNode.find("."+F.VOTE_DIALOG_SURVEY).addClass(""+F.HIDE),this.$voteDialogNode.find("."+e).removeClass(""+F.HIDE)}},{key:"_updateUndoDialog",value:function D(e){this.undoHeading=e.heading,this.undoMessage=e.message,this.undoImage=e.image,this.undoAction=e.action}},{key:"_updateUndoWithFeedbackDialog",value:function b(e){this.undoHeading=e.heading,this.undoMessage=e.message,this.undoByline=e.byline,this.undoImage=e.image}},{key:"_trackEvent",value:function S(e,t){var i=this.options[e];R(H["default"].merge(H["default"].pick(this.options,["handle","analytics_group"]),t),i)}},{key:"_feedbackHeight",value:function I(){return U.FEEDBACK_BASE=this.$node.find("."+F.FEEDBACK_OVERLAY).outerHeight(),U.FEEDBACK_BASE}},{key:"_storeOriginalHeight",value:function N(){this.originalHeight=this.$cardNode.height()}},{key:"_resizeToOriginalHeight",value:function C(){var e=this;this.$cardNode.animate({height:this.originalHeight,"min-height":this.originalHeight},{duration:j.ANIMATION,complete:function t(){return e.$cardNode.css({overflow:"",height:"","min-height":""})}})}},{key:"_resizeToUndoOverlayHeight",value:function P(){var e=this;this.$cardNode.animate({height:U.UNDO_OVERLAY,"min-height":U.UNDO_OVERLAY},{duration:j.ANIMATION,complete:function t(){return e.$cardNode.css({overflow:"hidden"})}})}},{key:"_registerOnActionListeners",value:function A(){var e=["a","input[type=submit]","button:not(."+F.FEEDBACK_OVERLAY+" button","."+F.UNDO_OVERLAY+" button","."+F.FEEDBACK_MENU+" button","."+F.DROPDOWN_BUTTON+")"];this.$cardNode.on("click",e.join(", "),this.onAction)}},{key:"_unregisterOnActionListeners",value:function w(){this.$cardNode.off("click",this.onAction)}}]),a}();t["default"]=i,Shopify.HomeCard=null!=t["default"]?t["default"]:t}),r=(e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function a(e,t){x(this,a);var i=j(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t));return i.$node.find('.btn[href="#"]').on("click",function(e){return e.preventDefault(),i.hide()}),i}return V(a,e),a}(q(s)["default"]);t["default"]=i,Shopify.CustomFeedCard=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";function a(){var e=(0,g["default"])(window).scrollTop(),t=(0,g["default"])(".page").hasClass("page--sidebar-is-visible");if(window.innerWidth<1066&&t){(0,g["default"])(".home-greeting").css("margin-top","-="+e+"px");var i=(0,g["default"])(".home-greeting").height()-e;(0,g["default"])(".page__content").css("margin-top",i+"px"),(0,g["default"])(window).scrollTop(0)}else{var a=(0,g["default"])(".home-greeting").css("margin-top").replace(/[^-\d.]/g,"");(0,g["default"])(window).scrollTop(-1*a),(0,g["default"])(".home-greeting, .page__content").css("margin-top","")}}function n(){var e=(0,g["default"])(".nav-toggle button"),t=(0,g["default"])(".page-home-index")[0];e.on("click",function(){(0,g["default"])(".page--sidebar-is-visible").length&&window.Shopify.Home.toggleSidebar()}),Page.onReplace(t,function(){return e.off("click")}),Page.onReplace(t,o)}function o(){(0,g["default"])(window).off("resize.calcSidebar")}function s(){(0,g["default"])("."+k+" a[tg-remote='delete']").one("click",i)}function i(e){var t=e.currentTarget,i=(0,g["default"])(t).closest("."+k),a=(0,g["default"])(t).closest("."+T);(a.children().length<=2?a:i).slideUp(150,function(){i.next().is("HR")&&i.next().remove(),i.remove(),0===a.children().length&&a.remove(),E["default"].stop()})}function r(e){(0,g["default"])(e.target).closest(".next-card").css("z-index",D)}function u(e){(0,g["default"])(e.target).closest(".next-card").css("z-index","")}function l(){var e=(0,g["default"])(".ui-feed");e.on(G.Popover.EVENTS.ACTIVATING,".ui-popover",r),e.on(G.Popover.EVENTS.DEACTIVATED,".ui-popover",u),Page.onReplace(e[0],function(){e.off(G.Popover.EVENTS.ACTIVATING),e.off(G.Popover.EVENTS.DEACTIVATED)})}function h(e){var t=/\/admin/g;return e.host===window.location.host&&t.test(e.href)}function d(e){return"javascript:"!==e.protocol&&"mailto:"!==e.protocol&&"tel:"!==e.protocol}function c(){(0,g["default"])(".page-home-index .page__content a").each(function(e,t){var i=!h(t),a=d(t);if(i&&a||y(t)){var n=(0,g["default"])(t);n.attr("target","_blank"),n.addClass("external-link");var o=n.attr("href");n.attr("href",p(o))}})}function f(e){return-1!==e.indexOf("?")}function p(e){var t=e,i="";-1!==t.indexOf("#")&&(i=t.slice(t.indexOf("#")),t=t.slice(0,t.indexOf("#")));var a=f(t);return v(t)||(t=m(t=m(t=m(t,"utm_source","Shopify",!a),"utm_medium","AdminHomefeed"),"utm_campaign","Homecards")),""+t+i}function m(e,t,i,a){var n=3<arguments.length&&a!==undefined&&arguments[3];return-1!==e.indexOf(t)?e:""+e+(n?"?":"&")+t+"="+i}function v(e){return f(e)&&-1!==e.indexOf("hmac=")}function y(e){var t=!0,i=!1,a=undefined;try{for(var n,o=b[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var s=n.value;if(-1!==e.href.indexOf(s))return!0}}catch(r){i=!0,a=r}finally{try{!t&&o["return"]&&o["return"]()}finally{if(i)throw a}}return!1}Object.defineProperty(t,"__esModule",{value:!0});var g=q($),O=q(_),E=q(N),T="next-card__section",k="notification",D=2,b=["/admin/experts/redirect"],S=function(){function t(e){x(this,t),this.cardConsumption=new Shopify.CardConsumption({requestId:e}),s(),n()}return B(t,[{key:"onFeedLoaded",value:function e(){c(),l(),this.cardConsumption.watch()}}],[{key:"toggleSidebar",value:function i(e){(0,g["default"])(".page").toggleClass("page--sidebar-is-visible"),a(),void 0===e?o():(0,g["default"])(window).on("resize.calcSidebar",O["default"].throttle(a,200))}}]),t}();t["default"]=S,Shopify.Home=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={PREVIEW_EDITOR:"js-home-preview-editor",PARENT_ITEM:"js-home-item",HIDE:"hide"},i=function(){function t(e){x(this,t),this.$previewEditorNode=$(e).closest("."+a.PARENT_ITEM).find("."+a.PREVIEW_EDITOR)}return B(t,[{key:"showPreviewEditor",value:function e(){G.Popover.deactivate(),this.$previewEditorNode.removeClass(a.HIDE)}},{key:"hidePreviewEditor",value:function i(){this.$previewEditorNode.addClass(a.HIDE)}}]),t}();t["default"]=i,Shopify.HomePreviewEditor=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=q($),i=q(s),h="feedback-search__input",d="feedback-search__results",c="feedback-search_item",f="ui-action-list__item",p="hide",a=function(e){function a(e,t){x(this,a);var i=j(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t));return i.feedbackList=t.feedback_helper_values,i.currentCategory=t.current_industry,i._updateUndoWithFeedbackDialog({heading:"Thanks for letting us know",message:"You will stop receiving information about the "+i.currentCategory+" industry.",byline:"Here are some other industries that may be a better match."}),i}return V(a,e),B(a,[{key:"textInputHandler",value:function n(e){var i=this,t=this.autoComplete(e.value,this.feedbackList.complete_list),a=document.createDocumentFragment();t.forEach(function(e){var t=document.createElement("li");t.classList.add(c,f),t.setAttribute("role","option"),t.innerHTML='<button class="ui-action-list-action" type="button" name="button">\n                        <span class="ui-action-list-action__text">\n                          '+e+"\n                        </span>\n                      </button>",t.addEventListener("mousedown",i._autoCompleteAction,!1),a.appendChild(t)}),t.length&&this.sanitize?((0,l["default"])("."+d).removeClass(p),(0,l["default"])(e).next("."+d).html(a)):(0,l["default"])("."+d).addClass(p)}},{key:"inputFocusHandler",value:function t(e){this.validInputEvent=!(document.activeElement===e&&e.value),this.validInputEvent?(0,l["default"])("."+d).addClass(p):(0,l["default"])("."+d).removeClass(p)}},{key:"checkboxHandler",value:function i(e){e.checked?(this._autoCompleteDisabled(!1),(0,l["default"])("."+h).focus()):this._autoCompleteDisabled(!0)}},{key:"autoComplete",value:function o(e,t){var i=this;return this._buildInputRegex(e),t.filter(function(e){return!!e.match(i.reg)&&e})}},{key:"_buildInputRegex",value:function s(e){this.sanitize=/^[\w\s]+$/.test(e),this.sanitize&&(this.reg=new RegExp(e.split("").join("\\w*\\s*\\w*"),"i"))}},{key:"_autoCompleteDisabled",value:function r(e){(0,l["default"])("."+h).attr("disabled",this.autoCompleteDisabled=e),(0,l["default"])("."+h).val("")}},{key:"_autoCompleteAction",value:function u(){(0,l["default"])("."+h).val(this.textContent.trim())}}]),a}(i["default"]);t["default"]=a,Shopify.IndustryBenchmarkCardFeedback=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";function o(e,t){return e.attr(t,"true"===e.attr(t)?"false":"true")}Object.defineProperty(t,"__esModule",{value:!0});var r=q($),u="notification-dismissal",l="[data-endpoint]",h=3,i=function(){function i(e,t){x(this,i),this.logNotification=this.logNotification.bind(this),this.options=t,this.$node=(0,r["default"])(e),this.$dismiss=(0,r["default"])(e).find("."+u),this._createLogNotificationListeners()}return B(i,[{key:"removeNotificationDismiss",value:function e(){this.$node.remove()}},{key:"toggleNotificationDismissOverlay",value:function t(){var e=this._calculateDismissHeight();this.$node.css("height",e),o(this.$dismiss,"aria-hidden")}},{key:"logNotification",value:function s(e){var t=this.options,i=t.handle,a=t.analytics_group,n=t.data,o=(0,r["default"])(e.target).data("endpoint");r["default"].ajax({url:o,type:"POST",data:{handle:i,analytics_group:a,data:n}})}},{key:"_calculateDismissHeight",value:function a(){return this.$dismiss.outerHeight()+h}},{key:"_createLogNotificationListeners",value:function n(){this.$node.find(""+l).on("click",this.logNotification)}}]),i}();t["default"]=i,Shopify.Notification=null!=t["default"]?t["default"]:t})),y=(e(function(e,t){"use strict";function i(e,t){var i=h.isKnownBrowser()&&!h.isMobile()&&(h.isMac()||h.isWindows()),a=s(t.options.message);i&&(n(o(),u.D_LOWER_CASE,t),$(e).html(a))}function n(e,t,i){return l["default"].bindCombo([e,t],function(){return a(i)})}function a(e){e.hide(),e.onAction()}function o(){return h.isMac()?u.COMMAND:u.CONTROL}function s(e){var t=h.isMac()?"\u2318":"Ctrl";return e.replace("Ctrl",r(t)).replace("D",r("D"))}function r(e){return'<kbd class="keyboard-key s-none">'+e+"</kbd>"}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var u=I(d),l=q(c),h=I(f);Shopify.BookmarkShortcut=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=q(Twine),i=function(e){function t(){return x(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return V(t,e),B(t,[{key:"onAction",value:function i(){return U(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onAction",this).call(this),a["default"].context(document.body).uploadRequestedDocumentsModal.show()}}]),t}(q(r)["default"]);t["default"]=i,Shopify.RequestedDocumentsNotification=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function t(e){x(this,t),this.$dataList=$(e).find(".home-data-list")}return B(t,[{key:"showMore",value:function a(){var e=this,t=this._truncatedHeight(),i=this._fullHeight();this.$dataList.css("max-height",t),this.$dataList.find(".home-data-list__item.hide").removeClass("hide"),$(".home-data-list__show-more, .home-data-list__show-less").toggleClass("hide"),window.setTimeout(function(){return e.$dataList.addClass("home-data-list--expanded").css("max-height",i)},0)}},{key:"showLess",value:function i(){var e=this.$dataList;e.one("transitionend",function(){e.removeClass("home-data-list__wrapper--expanded")}),e.css("max-height",this.truncatedHeight),$(".home-data-list__show-more, .home-data-list__show-less").toggleClass("hide")}},{key:"_truncatedHeight",value:function e(){return this.truncatedHeight||(this.truncatedHeight=this.$dataList.height()),this.truncatedHeight}},{key:"_fullHeight",value:function n(){if(!this.fullHeight){var e=1,t=this.$dataList.find("li.hide").length,i=this.$dataList.find("li").length-t-e;this.fullHeight=this.truncatedHeight+this.truncatedHeight/i*t}return this.fullHeight}}]),t}();t["default"]=i,Shopify.DataList=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";function n(e){e.each(function(e,t){i["default"].bind(t)})
}Object.defineProperty(t,"__esModule",{value:!0});var s=q($),i=q(Twine),r=5,a=function(){function t(e){x(this,t),this.timesRetried=0,this.$feedNode=(0,s["default"])(".skeleton-feed"),this.onFeedLoaded=e}return B(t,[{key:"loadHomeFeed",value:function e(){var o=this;return new Promise(function(a){s["default"].ajax({type:"GET",url:"/admin/home/feed",dataType:"html",success:function n(e,t,i){i.getResponseHeader("Shopify-Auth-Mechanisms")?o.retry():(o.renderFeed(e),a(e))},error:function t(e){500<=e.status&&o.timesRetried<r?o.retry():Shopify.Flash.error("Error loading Home feed. Please try again later.")}})})}},{key:"renderFeed",value:function i(e){this.$feedNode.hide().html(e).show(),this.$feedNode.addClass("skeleton-feed--is-loaded"),n(this.$feedNode.find(".ui-feed, .home-theme-wrapper")),this.onFeedLoaded(),(0,s["default"])(document).trigger("page:load"),window.performance&&window.performance.mark&&window.performance.mark("home_feed_rendered")}},{key:"retry",value:function a(){var e=this;setTimeout(function(){e.timesRetried++,e.loadHomeFeed()},1e3*this.timesRetried)}}]),t}();t["default"]=a,Shopify.Skeleton=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";function i(e){var t=d.nowShop().moment,i=void 0,a=void 0;switch(e){case"today":a=i=t.clone();break;case"yesterday":a=i=t.clone().subtract(1,"day");break;case"this_week":i=u("week"),a=l("week");break;case"this_month":i=u("month"),a=l("month");break;default:var n=e.split(","),o=W(n,2),s=o[0],r=o[1];i=h(s),a=h(r)}return{startMoment:i,endMoment:a}}function u(e){return d.nowShop().moment.clone().startOf(e)}function l(e){return d.nowShop().moment.clone().endOf(e)}function h(e){return d.fromShop((0,a["default"])(e)).moment.clone()}Object.defineProperty(t,"__esModule",{value:!0}),t.toDateRange=i,t.absoluteStartOf=u,t.absoluteEndOf=l;var a=q(moment),d=I(Y);Shopify.HomeSidebarDateUtils=null!=t["default"]?t["default"]:t})),E=e(function(e,t){"use strict";function i(e){return h.withDelimiter(e)}function a(e){return h.condensed(e)}function n(e,t){return t?(100*e).toFixed(t)+"%":Math.floor(100*e)+"%"}function o(e){return l["default"].format(e,l["default"].moneyUnencodedFormat())}function s(e){var t=void 0;return 0<=e?l["default"].condensed(e,l["default"].moneyUnencodedFormat()).trim():(t=Math.abs(e),"\u2212"+(t=l["default"].condensed(t,l["default"].moneyUnencodedFormat()).trim()))}function r(e){return 0!==e.indexOf("https://")&&0!==e.indexOf("http://")?e:e.substring(e.indexOf("/")+2)}function u(e){var t=d.toDateRange(e),i=t.startMoment,a=t.endMoment;return i.isSame(a)?i.format(c):i.month()===a.month()?i.format(c)+"\u2013"+a.format(f):i.format(c)+"\u2013"+a.format(c)}Object.defineProperty(t,"__esModule",{value:!0}),t.formatNumber=i,t.formatNumberCondensed=a,t.formatPercentage=n,t.formatMoney=o,t.formatMoneyCondensed=s,t.formatLink=r,t.formatDate=u;var l=q(p),h=I(m),d=I(y),c="MMM D",f="D";Shopify.HomeSidebarFormatter=null!=t["default"]?t["default"]:t}),h=e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=I(a),m="shopify-home",_="shopify-home-live",i=function(){function i(e,t){x(this,i),this._poll=this._poll.bind(this),this.handleData=this.handleData.bind(this),this.options=e,this.onDataReceived=t,this.pollFrequencyIndex=this.DEFAULT_POLL_FREQUENCY_INDEX,this.querySource=_,this.pollingDisabled=e.pollingDisabled}return B(i,[{key:"startPolling",value:function t(){var e=this;this.querySource=m,this.timeout=window.setTimeout(function(){e._poll(),e.querySource=_},0)}},{key:"stopPolling",value:function e(){this.mostRecentTotalSales=null,this.mostRecentTotalVisits=null,window.clearTimeout(this.timeout)}},{key:"handleData",value:function r(e){var t=e.ast,i=e.metadata,a=e.result;if(this._validateResponse(t)){var n=a.data,o=i.recency.delay;if(n&&n[0]){var s=this._transformData(n);this._hasChanged(s)?(this.onDataReceived(s),this.pollFrequencyIndex=this.DEFAULT_POLL_FREQUENCY_INDEX):this.pollFrequencyIndex!==this.POLL_FREQUENCIES.length-1&&this._boostPollFrequency(o)}this.pollingDisabled||(this.timeout=window.setTimeout(this._poll,this.POLL_FREQUENCIES[this.pollFrequencyIndex]))}}},{key:"_poll",value:function a(){return p.query(this._query(),"queries",this.querySource).then(this.handleData.bind(this))["catch"](function(){})}},{key:"_query",value:function n(){throw new Error("Subclasses of PollableMetric must define a query")}},{key:"_validateResponse",value:function o(e){return e.columns[0].alias.split("_").pop()===this.options.endDate}},{key:"_transformData",value:function s(e){return e}},{key:"_sumColumnData",value:function u(e,i){return e.reduce(function(e,t){return e+t[i]},0)}},{key:"_getHourlyData",value:function l(e,t){return e.map(function(e){return e[t]})}},{key:"_isCurrent",value:function h(e,t){return e<=t}},{key:"_boostPollFrequency",value:function d(e){this._isCurrent(e,60)?this.pollFrequencyIndex++:this.longerPollFrequencyIndex++}},{key:"_hasChanged",value:function c(e){var t=void 0,i=void 0;if(e.totalSales||0===e.totalSales){if(t=e.totalSales,null!=this.mostRecentTotalSales&&this.mostRecentTotalSales===t)return!1;this.mostRecentTotalSales=t}else{if(i=e.totalVisits,null!=this.mostRecentTotalVisits&&this.mostRecentTotalVisits===i)return!1;this.mostRecentTotalVisits=i}return!0}},{key:"_hoursInPeriod",value:function f(){var e=(0,Y.nowShop)().moment;if("today"===this.options.startDate||"today"===this.options.endDate)return e.hours()+1;var t=(0,Y.fromShop)(this.options.startDate).moment,i=(0,Y.fromShop)(this.options.endDate).moment.endOf("day");return e.isBetween(t,i)||e.isSame(t)?e.diff(t,"hours")+1:i.diff(t,"hours")+1}}]),i}();(t["default"]=i).prototype.POLL_FREQUENCIES=[5e3,1e4,3e4,6e4],i.prototype.DEFAULT_POLL_FREQUENCY_INDEX=0,Shopify.PollableMetric=null!=t["default"]?t["default"]:t}),u=e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return x(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return V(t,e),B(t,[{key:"_query",value:function i(){return!!this.options.hasOnlineStore&&'SHOW total_sessions AS "total_sessions_'+this.options.endDate+'" OVER hour(timestamp) AS hour FROM visits SINCE '+this.options.startDate+" UNTIL "+this.options.endDate+" ORDER BY hour ASC LIMIT "+this._hoursInPeriod()}},{key:"_transformData",value:function a(e){return{totalVisits:this._sumColumnData(e,1),visits:this._getHourlyData(e,1)}}}]),t}(q(h)["default"]);(t["default"]=i).prototype.DEFAULT_POLL_FREQUENCY_INDEX=1,Shopify.PollableVisitsMetric=null!=t["default"]?t["default"]:t}),T=e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return x(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return V(t,e),B(t,[{key:"_query",value:function i(){return'SHOW total_sales AS "total_sales_'+this.options.endDate+'", total_orders AS "total_orders_'+this.options.endDate+'" OVER hour(hour) AS hour FROM sales SINCE '+this.options.startDate+" UNTIL "+this.options.startDate+" ORDER BY hour ASC LIMIT "+this._hoursInPeriod()}},{key:"_transformData",value:function a(e){return{totalSales:this._sumColumnData(e,1),totalOrders:this._sumColumnData(e,2),sales:this._getHourlyData(e,1),orders:this._getHourlyData(e,2)}}}]),t}(q(h)["default"]);(t["default"]=i).prototype.DEFAULT_POLL_FREQUENCY_INDEX=1,Shopify.PollableSalesMetric=null!=t["default"]?t["default"]:t}),k=e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var v=q(_),y=2,i=function(){function n(e,t,i,a){x(this,n),this.node=e.find("."+t+"-sparkline"),$(this.node).empty(),this.containerWidth=this.node.outerWidth(),this.containerHeight=this.node.outerHeight(),this.pathCoordinates=i.slice(0,-1),this.valueCount=this.pathCoordinates.length,this.showAnimation=a,this.interpolatedPath="",this.interpolatedPathClosing="",this.endPoint={},this._calcSparkline(),this._createSparkline(t)}return B(n,[{key:"_createSparkline",value:function i(e){var t="home-sparkline";this.showAnimation&&(t+=" home-sparkline--animation"),this._buildSVGelement("svg",{viewbox:"0 0 "+this.containerWidth+" "+this.containerHeight,"class":t},this.node),this._buildSVGelement("path",{d:this.interpolatedPath+this.interpolatedPathClosing,"class":"area"},this.node.find("svg")),this._buildSVGelement("path",{d:this.interpolatedPath,"class":"line "+e+"-line","data-cat":e},this.node.find("svg")),this._buildSVGelement("circle",{cx:this.endPoint.cx,cy:this.endPoint.cy,r:this.endPoint.radius,"class":"end-point"},this.node.find("svg"))}},{key:"_buildSVGelement",value:function o(e,t,i){var a=document.createElementNS("http://www.w3.org/2000/svg",e);if($(a).attr(t),$(a).hasClass("line")&&this.showAnimation){var n=a.getTotalLength();$(a).css({"stroke-dashoffset":n+"px","stroke-dasharray":n+"px"})}i.append(a)}},{key:"_calcSparkline",value:function _(){for(var e=[],t=[],i=[],a=[],n=[],o=[],s=v["default"].max(this.pathCoordinates),r=v["default"].min(this.pathCoordinates),u=Math.max(s,0)+Math.abs(Math.min(r,0)),l=this.containerHeight/u,h=this.containerWidth/(this.valueCount-1),d=Math.max(s,0)*l,c=0;c<this.pathCoordinates.length;c++)e[c]=c*h,t[c]=d-this.pathCoordinates[c]*l;this._line(e[e.length-1],d),this._line(0,d),this._circle(e[e.length-1],t[t.length-1],y);for(var f=0;f<this.pathCoordinates.length-1;f++)n[f]=t[f+1]-t[f],o[f]=e[f+1]-e[f],a[f]=n[f]/o[f];i[0]=a[0],i[this.pathCoordinates.length-1]=a[this.pathCoordinates.length-2];for(var p=1;p<this.pathCoordinates.length-1;p++)0===a[p]||0===a[p-1]||0<a[p-1]!=0<a[p]?i[p]=0:(i[p]=3*(o[p-1]+o[p])/((2*o[p]+o[p-1])/a[p-1]+(o[p]+2*o[p-1])/a[p]),isFinite(i[p])||(i[p]=0));this._move(e[0],t[0]);for(var m=0;m<this.pathCoordinates.length-1;m++)this._curve(e[m]+o[m]/3,t[m]+i[m]*o[m]/3,e[m+1]-o[m]/3,t[m+1]-i[m+1]*o[m]/3,e[m+1],t[m+1])}},{key:"_curve",value:function s(e,t,i,a,n,o){this.interpolatedPath+="C"+e+","+t+" "+i+","+a+" "+n+","+o+" "}},{key:"_move",value:function a(e,t){this.interpolatedPath+="M"+e+","+t+" "}},{key:"_line",value:function r(e,t){this.interpolatedPathClosing+="L"+e+","+t+" "}},{key:"_circle",value:function u(e,t,i){this.endPoint={cx:e,cy:t,radius:i}}}]),n}();t["default"]=i,Shopify.Sparkline=null!=t["default"]?t["default"]:t}),l=e(function(e,t){"use strict";function l(e,t){return Math.floor(d(e,t))||1}function d(e,t){var i=1<arguments.length&&t!==undefined?arguments[1]:0;return Math.max((e-i)/50,.01)}Object.defineProperty(t,"__esModule",{value:!0});var c=q(Twine),f=q($),p=I(Y),m=I(E),_=q(u),v=q(T),y=q(k),g=/^[+\u2212]?[$][0-9]{1,3}(?:,?[0-9]{3})*(?:\.[0-9]{2})$/,O=/^[+\u2212]?Rs\. [0-9]{1,3}(?:,?[0-9]{3})*(?:\.[0-9]{2})$/,i=function(){function n(e,t){var i=this;x(this,n);var a=(0,f["default"])(e).closest(".page")[0];this.options=t,this.$node=(0,f["default"])(e),this.stopPolling=this.stopPolling.bind(this),this._updateData=this._updateData.bind(this),this.data={totalSales:null,totalOrders:null},this.humanized={},this.salesDataFeed=new v["default"](this.options,this._updateData),this.options.hasOnlineStore&&(this.data.totalVisits=null,this.visitsDataFeed=new _["default"](this.options,this._updateData)),this.options.inactive?G.rootDispatcher.register(this.ACTIVATE_GREETING_EVENT,this._initialize.bind(this)):this._initialize(),Page.onReplace(a,function(){i.stopPolling()})}return B(n,[{key:"startPolling",value:function e(){this.resetData=!0,this.salesDataFeed.startPolling(),this.visitsDataFeed&&this.visitsDataFeed.startPolling()}},{key:"stopPolling",value:function t(){this.salesDataFeed.stopPolling(),this.visitsDataFeed&&this.visitsDataFeed.stopPolling()}},{key:"_initialize",value:function i(){this.startPolling()}},{key:"_updateData",value:function o(e){var t=Object.keys(e);if(this.resetData)return this.resetData=!1,this.animateSparkline=!0,this._updateValues(e),this._humanizeDataAndRefresh(),void this._drawSparklines(t);var i=t[0],a=null===this.data[i],n=e[i]<this.data[i];this.animateSparkline=!1,n||a?(this._updateValues(e),this._humanizeDataAndRefresh(),this._drawSparklines(t)):this._animateUpdateAndRefresh(e)}},{key:"_animateUpdateAndRefresh",value:function r(e){var t=this,i=void 0,a=void 0,n=void 0;e.totalSales&&(n=d(e.totalSales,this.data.totalSales)),e.totalVisits&&(a=l(e.totalVisits,this.data.totalVisits)),e.totalOrders&&(i=l(e.totalOrders,this.data.totalOrders));var o=0,s=function s(){o++,n&&(t.data.totalSales+=n),a&&(t.data.totalVisits+=a),i&&(t.data.totalOrders+=i),t.data.totalSales>e.totalSales||t.data.totalVisits>e.totalVisits||t.data.totalOrders>e.totalOrders||50<=o?(t._updateValues(e),t._humanizeDataAndRefresh(),t._drawSparklines(Object.keys(e))):(t._humanizeDataAndRefresh(),window.requestAnimationFrame(s))};window.requestAnimationFrame(s)}},{key:"_updateValues",value:function a(e){(e.totalSales||0===e.totalSales)&&(this.data.totalSales=e.totalSales),(e.totalVisits||0===e.totalVisits)&&(this.data.totalVisits=e.totalVisits),(e.totalOrders||0===e.totalOrders)&&(this.data.totalOrders=e.totalOrders),(e.orders||0===e.orders)&&(this.data.orders=e.orders),(e.sales||0===e.sales)&&(this.data.sales=e.sales),(e.visits||0===e.visits)&&(this.data.visits=e.visits)}},{key:"_humanizeDataAndRefresh",value:function s(){if(this.data.totalSales||0===this.data.totalSales){var e=m.formatMoney(this.data.totalSales);this.humanized.totalSales=this._formatCommonCurrency(e)}return(this.data.totalVisits||0===this.data.totalVisits)&&(this.humanized.totalVisits=m.formatNumber(this.data.totalVisits)),(this.data.totalOrders||0===this.data.totalOrders)&&(this.humanized.totalOrders=m.formatNumber(this.data.totalOrders)),this.takeoverActive&&this._humanizeLiveView(),this.humanized.date=p.nowShop().moment.format("MMM D"),c["default"].refresh()}},{key:"_drawSparklines",value:function h(e){if(this.$node.hasClass("home-takeover-greeting")){var t=!0,i=!1,a=undefined;try{for(var n,o=e[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var s=n.value;if(["sales","orders","visits"].includes(s)){var r=0===this.$node.find("."+s+"-sparkline").children().length,u=this.animateSparkline||r;new y["default"](this.$node,s,this.data[s],u)}}}catch(l){i=!0,a=l}finally{try{!t&&o["return"]&&o["return"]()}finally{if(i)throw a}}}}},{key:"_formatCommonCurrency",value:function u(e){if(g.test(e))return e.substring(0,e.indexOf("."));if(O.test(e)){var t=e.split(" "),i=W(t,2),a=i[0],n=i[1];return a+" "+n.substring(0,n.indexOf("."))}return e}}]),n}();(t["default"]=i).prototype.ACTIVATE_GREETING_EVENT="home:greeting:activate",Shopify.TodayFeature=null!=t["default"]?t["default"]:t}),g=e(function(e,t){"use strict";function r(e){var t=e[0],i=n[t],a=e[1];return[i,s[a],e[2],e[3]]}function u(e){return e[Math.floor(Math.random()*e.length)]}Object.defineProperty(t,"__esModule",{value:!0});var i=q(h),o=9e3,n={"List of Collections":"collections list page",Collection:"collection page",Product:"product page","Blog Index":"blog index page","Blog Article":"blog article",Checkout:"checkout page",Search:"search results page",Homepage:"home page",Cart:"cart","Customer Account":"customer account","Custom Page":"custom page",Unknown:"page"},l={"collections list page":["viewed a","was just on a","looked at a"],"collection page":["viewed a","was just on a","looked at a"],"product page":["viewed a","was just on a","looked at a"],"blog index page":["viewed your","was just on a","looked at your"],"blog article":["viewed your","was just on a","looked at your"],"checkout page":["viewed the","was just on the","looked at the"],"search results page":["viewed the","was just on a","looked at a"],"home page":["viewed your","was just on your","looked at your"],cart:["viewed their","was just on their","looked at their"],"customer account":["viewed their","was just on their","looked at their"],"custom page":["viewed a","was just on a","looked at a"],page:["viewed a","was just on a","looked at a"]},s={"Game Console":"gaming console",Mobile:"phone",Tablet:"tablet",Desktop:"computer"},a=function(e){function t(){return x(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return V(t,e),B(t,[{key:"pollManually",value:function i(){window.setTimeout(this._poll,0)}},{key:"handleData",value:function a(e){var t=e.result.data[0];if(t){var i=this._transformData(t);this.onDataReceived(i)}else window.setTimeout(this.pollManually.bind(this),o)}},{key:"_query",value:function n(){return'SHOW page_type, form_factor, city, country, timestamp FROM pageviews WHERE page_type != "" AND country != "" AND city != "" AND form_factor != "" SINCE -10s UNTIL 0s ORDER BY timestamp DESC LIMIT 1'}},{key:"_transformData",value:function s(e){var t=r(e),i=W(t,4),a=i[0],n=i[1],o=["from "+i[2]+", "+i[3],"on their "+n];return u(["Someone","A visitor","A person"])+" "+u(o)+" "+u(l[a])+" "+a+"."}}]),t}(i["default"]);t["default"]=a,Shopify.PollableVisitorTickerMetric=null!=t["default"]?t["default"]:t}),O=e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return x(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return V(t,e),B(t,[{key:"pollManually",value:function i(){window.setTimeout(this._poll,0)}},{key:"handleData",value:function a(e){var t=e.result.data[0];if(t){var i=this._transformData(t);this.onDataReceived(i)}}},{key:"_query",value:function n(){return"SHOW total_active_sessions FROM pageviews SINCE -300s UNTIL 0s"}},{key:"_transformData",value:function o(e){return{totalLiveVisits:e[0]}}}]),t}(q(h)["default"]);t["default"]=i,Shopify.PollableLiveVisitsMetric=null!=t["default"]?t["default"]:t}),D=(e(function(e,t){"use strict";function S(){return(0,Y.nowShop)().moment.format("YYYY-MM-DD")===a}Object.defineProperty(t,"__esModule",{value:!0});var I=q($),N=q(Twine),i=q(l),C=q(window.SafeLocalStorage),P=q(g),A=q(O),w={FIGURE:"home-takeover-data__figure",SPARKLINE:"sparkline-wrapper",BUTTONS:"home-takeover-stats__button",ACTIVE:"home-takeover-stats__button--is-active",LIVE_VISITS:"home-takeover-live__number",VISITOR_TICKER:"home-takeover-ticker",VISITOR_TICKER_VISIBLE:"home-takeover-ticker--visible",VISITOR_TICKER_HIDING:"home-takeover-ticker--hiding",FIGURE_CAPTION_WRAPPER:"home-takeover-data__wrap",FIGURE_CAPTION_WRAPPER_NO_DATA:"home-takeover-data__wrap--no-data"},R=4,a="2017-11-28",M={ACTIVE_TAB:"takeoverActiveTab",ACTIVE_TAB_TUESDAY:"takeoverActiveTabTuesday",RANGE_TAB:"home-takeover-stats__button--range",TODAY_TAB:"home-takeover-stats__button--today"},H=3e4,L=5500,F=2100,n=function(e){function a(e,t){x(this,a);var i=j(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t));return i.$node=(0,I["default"])(e),i.takeoverActive=!0,i.originalStartDate=i.options.startDate,i.originalEndDate=i.options.endDate,i._getActiveTab(),i._setQueryDateRangeAndPoll(),i}return V(a,e),B(a,[{key:"tabbedView",value:function t(e){this._storeTab(e),S()&&this._setDebriefGreeting(),this._reloadSkeletonContent(),this._setQueryDateRangeAndPoll()}},{key:"startPolling",value:function i(){U(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"startPolling",this).call(this),this.options.hasOnlineStore&&(this.pollLiveVisits=!0,this.$visitorTicker.on("transitionend",this._handleLiveSessionsTransitionEnd.bind(this)),this.$liveSessions.length&&this.liveSessionsFeed.pollManually())}},{key:"stopPolling",value:function n(){U(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"stopPolling",this).call(this),this.options.hasOnlineStore&&(this.pollLiveVisits=!1,this.$visitorTicker.off("transitionend"))}},{key:"_initialize",value:function o(){var e=this;this.options.hasOnlineStore&&(this._initializeLiveSessions(),this._initializeVisitorTicker()),G.rootDispatcher.register(this.ACTIVATE_GREETING_EVENT,function(){e.stopPolling()}),this.startPolling()}},{key:"_initializeLiveSessions",value:function s(){this.$liveSessions=(0,I["default"])("."+w.LIVE_VISITS),this.liveSessionsFeed=new A["default"]({},this._updateSessionsFeed.bind(this))}},{key:"_initializeVisitorTicker",value:function r(){this.$visitorTicker=(0,I["default"])("."+w.VISITOR_TICKER),this.$visitorTicker.length&&(this.visitorTickerFeed=new P["default"]({},this._showVisitorTicker.bind(this)),this.visitorTickerFeed.pollManually())}},{key:"_handleLiveSessionsTransitionEnd",value:function u(e){var t=this;"opacity"===e.originalEvent.propertyName&&(this.$visitorTicker.hasClass(w.VISITOR_TICKER_HIDING)?window.setTimeout(function(){t._resetVisitorTicker(),t.visitorTickerFeed.pollManually()},F):window.setTimeout(this._hideVisitorTicker.bind(this),L))}},{key:"_updateSessionsFeed",value:function l(e){this.humanized.totalLiveVisits=e.totalLiveVisits;var t=e.totalLiveVisits.toString().length;6<t?this.$liveSessions.addClass("home-takeover-live__number--extra-small"):5<t?this.$liveSessions.addClass("home-takeover-live__number--small"):this.$liveSessions.removeClass("home-takeover-live__number--extra-small home-takeover-live__number--small"),this._refreshLiveSessions()}},{key:"_refreshLiveSessions",value:function h(){var e=this;window.setTimeout(function(){e.pollLiveVisits&&e.liveSessionsFeed.pollManually()},H)}},{key:"_showVisitorTicker",value:function d(e){this.$visitorTicker.text(e).addClass(w.VISITOR_TICKER_VISIBLE)}},{key:"_hideVisitorTicker",value:function c(){this.$visitorTicker.addClass(w.VISITOR_TICKER_HIDING)}},{key:"_resetVisitorTicker",value:function f(){var e=[w.VISITOR_TICKER_VISIBLE,w.VISITOR_TICKER_HIDING];this.$visitorTicker.removeClass(e.join(" "))}},{key:"_storeTab",value:function p(e){var t=e.classList[1],i=S()?M.ACTIVE_TAB_TUESDAY:M.ACTIVE_TAB;C["default"].set(i,t),this.selectedTab=t}},{key:"_reloadSkeletonContent",value:function m(){for(var e=["sales","orders","visits"],t=0;t<e.length;t++){var i=e[t],a="total"+(i[0].toUpperCase()+i.slice(1));delete this.data[i],delete this.data[a],delete this.humanized[a]}(0,I["default"])("."+w.SPARKLINE).html(""),N["default"].refresh()}},{key:"_setDebriefGreeting",value:function _(){this.options.content&&(this.selectedTab===M.TODAY_TAB?(this.debriefGreetingByline=this.options.content.today.byline,this.debriefGreetingTitle=this.options.content.today.title):(this.debriefGreetingByline=this.options.content.friday_monday.byline,this.debriefGreetingTitle=this.options.content.friday_monday.title))}},{key:"_getActiveTab",value:function v(){var e=S()?M.ACTIVE_TAB_TUESDAY:M.ACTIVE_TAB,t=S()?M.TODAY_TAB:M.RANGE_TAB;this.selectedTab=C["default"].get(e,t),S()&&this._setDebriefGreeting()}},{key:"_setQueryDateRangeAndPoll",value:function y(){this.selectedTab===M.RANGE_TAB&&(this.options.startDate=this.originalStartDate,this.options.endDate=this.originalEndDate),this.selectedTab===M.TODAY_TAB&&(this.options.startDate="today",this.options.endDate="today"),this.stopPolling(),this.startPolling(),this._highlightCurrentTab()}},{key:"_highlightCurrentTab",value:function g(){(0,I["default"])("."+w.BUTTONS).removeClass(w.ACTIVE),this.selectedTab?(0,I["default"])("."+this.selectedTab).addClass(w.ACTIVE):(0,I["default"])("."+w.BUTTONS).first().addClass(w.ACTIVE)}},{key:"_dataVolumeThreshold",value:function O(){var o={belowSparklineThreshold:[],noData:[]};return Object.entries(this.data).forEach(function(e,t){var i=W(e,2),a=i[0],n=i[1];Array.isArray(n)?n.filter(function(e){return 0<e}).length<=R&&o.belowSparklineThreshold.push(a):null!=n&&0===n&&o.noData.push([a,t])}),o}},{key:"_humanizeLiveView",value:function E(){this.volumeThresholds=this._dataVolumeThreshold(),this._showSparklines(),this._showIconsAndLabels()}},{key:"_invalidSparklines",value:function T(){return this.volumeThresholds.belowSparklineThreshold.length}},{key:"_showSparklines",value:function k(){this._invalidSparklines()?(0,I["default"])("."+w.SPARKLINE).addClass("hide"):(0,I["default"])("."+w.SPARKLINE).removeClass("hide")}},{key:"_drawSparklines",value:function D(e){this._invalidSparklines()||U(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"_drawSparklines",this).call(this,e)}},{key:"_showIconsAndLabels",value:function b(){var a=this,e=this.volumeThresholds.noData;(0,I["default"])("."+w.FIGURE_CAPTION_WRAPPER).removeClass(w.FIGURE_CAPTION_WRAPPER_NO_DATA),e.forEach(function(e){var t=e[0],i=e[1];a.humanized[t]=" ",(0,I["default"])("."+w.FIGURE_CAPTION_WRAPPER).eq(i).addClass(w.FIGURE_CAPTION_WRAPPER_NO_DATA)})}}]),a}(i["default"]);t["default"]=n,Shopify.TakeOver=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var v=q($),y=q(_),g=q(l),O={PAGE:"page",HOME_GREETING:"home-greeting",ORIGINAL_GREETING:"fresh-home-greeting",TAKEOVER_GREETING:"home-takeover-greeting",TAKEOVER_CONTENT:"home-takeover-greeting__wrapper",FEEDBACK:"home-theme-overlay--feedback",FEEDBACK_HEADING:"home-theme-overlay__heading",FEEDBACK_CONTENT:"home-theme-overlay__content--feedback",FEEDBACK_INPUT:"home-theme-overlay__comment",RESOLUTION:"home-theme-overlay--resolution",RESOLUTION_CONTENT:"home-theme-overlay__content--resolution",DISMISS_CONTENT:"home-theme-overlay__content--opt-out",OPT_OUT:"home-theme-overlay--opt-out",INVISIBLE:"home-theme-overlay--hidden"},E={ANIMATION:200,HIDE:3e3},T=1,i=function(){function a(e,t){x(this,a),this.$node=(0,v["default"])(e),this.$greetingParentNode=this.$node.closest("."+O.HOME_GREETING),this.options=t,this.options.tag_name="bfcm",this.feedbackGiven=!1,this.fromOptOutPage=!1,this.$takeoverGreeting=this.$node.closest("."+O.TAKEOVER_GREETING),this.$feedback=this.$node.find("."+O.FEEDBACK),this.$feedbackHeading=this.$node.find("."+O.FEEDBACK_HEADING),this.$feedbackContent=this.$node.find("."+O.FEEDBACK_CONTENT),this.$feedbackInput=this.$node.find("."+O.FEEDBACK_INPUT),this.$dismissContent=this.$node.find("."+O.DISMISS_CONTENT),this.$resolution=this.$node.find("."+O.RESOLUTION),this.$resolutionContent=this.$node.find("."+O.RESOLUTION_CONTENT),this.$optOut=this.$node.find("."+O.OPT_OUT),this._calcHeights(),(0,v["default"])(window).on("resize.calcHeights",y["default"].throttle(this._calcHeights.bind(this),200));var i=this.$node.closest("."+O.PAGE)[0];Page.onReplace(i,this._stopCalcHeights)}return B(a,[{key:"openFeedbackOverlay",value:function n(e){var t=this;G.Popover.deactivate(),this.feedbackGiven=!0,this.$feedbackHeading.text(e),this.$greetingParentNode.animate({height:this.tallestOverlay,"min-height":this.tallestOverlay},{duration:E.ANIMATION,start:function i(){t.$feedback.removeClass(O.INVISIBLE)}})}},{key:"sendFeedback",value:function t(){var e=this.$feedbackInput.val();this.feedbackGiven=!0,this._takeOverOptOutFeedback(e),this.showResolution()}},{key:"showResolution",value:function o(){var e=this;this.resolutionHeight=this.$resolutionContent.outerHeight(),this.$greetingParentNode.animate({height:this.resolutionHeight,"min-height":this.resolutionHeight},{duration:E.ANIMATION,start:function t(){e.$resolution.removeClass(O.INVISIBLE),e.$optOut.addClass(O.INVISIBLE)},complete:function i(){e.fromOptOutPage?e.closeTakeOver():setTimeout(function(){e.backToTakeover()},E.HIDE)}})}},{key:"backToTakeover",value:function s(){var e=this;this.$greetingParentNode.animate({height:this.originalTakeOverHeight,"min-height":this.originalTakeOverHeight},{duration:E.ANIMATION,start:function t(){e.$optOut.addClass(O.INVISIBLE),e.$feedback.addClass(O.INVISIBLE),setTimeout(function(){e.$resolution.addClass(O.INVISIBLE)},E.ANIMATION)},complete:function i(){e._calcHeights()}})}},{key:"closeTakeOver",value:function r(){var e=this;this.$greetingParentNode.animate({height:this.resolutionHeight,"min-height":this.resolutionHeight},{duration:E.ANIMATION,start:function t(){e.$optOut.addClass(O.INVISIBLE),e.$feedback.addClass(O.INVISIBLE)},complete:function i(){setTimeout(function(){e.$takeoverGreeting.remove()},E.HIDE)}})}},{key:"undo",value:function e(){this.fromOptOutPage=!1,this._undoOptOut(),this.backToTakeover()}},{key:"gotIt",value:function i(){this.feedbackGiven=!0,this.remove()}},{key:"remove",value:function u(){var e=this;this.feedbackGiven?this.feedbackHeight=this.originalGreetingHeight:this.feedbackHeight=this.originalTakeOverHeight,this.$greetingParentNode.animate({height:this.feedbackHeight,"min-height":this.feedbackHeight},{duration:E.ANIMATION,start:function t(){e.feedbackGiven&&(G.rootDispatcher.dispatch({type:g["default"].prototype.ACTIVATE_GREETING_EVENT}),e.$takeoverGreeting.fadeOut(E.ANIMATION,function(){e.$takeoverGreeting.remove()}))},complete:function i(){e.$greetingParentNode.css({height:"","min-height":""}),e._stopCalcHeights(),e.feedbackGiven||e.undo()}})}},{key:"dismiss",value:function l(){var e=this;this.fromOptOutPage=!0,G.Popover.deactivate(),this._takeOverOptOut(),this.$greetingParentNode.animate({height:this.tallestOverlay,"min-height":this.tallestOverlay},{duration:E.ANIMATION,start:function t(){e.$optOut.removeClass(O.INVISIBLE)}})}},{key:"_calcHeights",value:function h(){if(this._noDismissState()){this.originalGreetingHeight=(0,v["default"])("."+O.ORIGINAL_GREETING).outerHeight()+T,this.originalTakeOverHeight=(0,v["default"])("."+O.TAKEOVER_CONTENT).outerHeight()+T,this.$greetingParentNode.height(this.originalTakeOverHeight),this.$greetingParentNode.css("min-height",this.originalTakeOverHeight);var e=this.$dismissContent.outerHeight()+T,t=this.$feedbackContent.outerHeight()+T;this.tallestOverlay=Math.max(e,t)}}},{key:"_noDismissState",value:function d(){return this.$optOut.hasClass(O.INVISIBLE)&&this.$feedback.hasClass(O.INVISIBLE)&&this.$resolution.hasClass(O.INVISIBLE)}},{key:"_stopCalcHeights",value:function c(){(0,v["default"])(window).off("resize.calcHeights")}},{key:"_takeOverOptOut",value:function f(){this._postDataToUrl(this.options.dismiss_tag_url)}},{key:"_undoOptOut",value:function p(){this._postDataToUrl(this.options.undo_dismiss_tag_url)}},{key:"_takeOverOptOutFeedback",value:function m(e){this.options.comment=e,this._postDataToUrl(this.options.submit_dismiss_tag_url)}},{key:"_postDataToUrl",value:function _(e){var t=this.options,i=t.tag_name,a=t.comment;v["default"].ajax({url:e,type:"POST",data:{tag_name:i,comment:a}})}}]),a}();t["default"]=i,Shopify.TakeoverDismissal=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=q($),m={PAGE:"page",OPT_OUT:"home-theme-overlay--opt-out",OPT_OUT_CONTENT:"home-theme-overlay__content--opt-out",FEEDBACK:"home-theme-overlay--feedback",FEEDBACK_CONTENT:"home-theme-overlay__content--feedback",FEEDBACK_INPUT:"home-theme-overlay__comment",RESOLUTION:"home-theme-overlay--resolution",RESOLUTION_CONTENT:"home-theme-overlay__content--resolution",HOME_THEME:"home-theme",HOME_FEED_CARD:"ui-feed__item--card",COUNTDOWN:"home-theme-countdown",COUNTDOWN_NUMBER:"number",COUNTDOWN_NUMBER_LEFT:"number__left",COUNTDOWN_NUMBER_RIGHT:"number__right",COUNTDOWN_OVER:"home-theme-wrapper--countdown-over",INVISIBLE:"home-theme-overlay--hidden",HIDE:"hide"},_={ANIMATION:200,HIDE:3e3},i=function(){function r(e,t){var i=this;x(this,r),this.$node=(0,p["default"])(e),this.$optOut=this.$node.find("."+m.OPT_OUT),this.$optOutContent=this.$node.find("."+m.OPT_OUT_CONTENT),this.$feedback=this.$node.find("."+m.FEEDBACK),this.$feedbackContent=this.$node.find("."+m.FEEDBACK_CONTENT),this.$feedbackInput=this.$node.find("."+m.FEEDBACK_INPUT),this.$resolution=this.$node.find("."+m.RESOLUTION),this.$resolutionContent=this.$node.find("."+m.RESOLUTION_CONTENT),this.$featuredCard=this.$node.find("."+m.HOME_THEME+" ."+m.HOME_FEED_CARD),this.options=t;var a=this.$optOutContent.outerHeight(),n=this.$feedbackContent.outerHeight();this.tallestOverlay=Math.max(a,n);var o=this.$node.closest("."+m.PAGE)[0],s=this.options.countdown_in_seconds;this.countdown=new Map([["days",0],["hours",0],["minutes",0],["seconds",0]]),this.countdownInterval=window.setInterval(function(){s<=0&&(i._stopInterval(),i._calcFeaturedCardMaxHeight(),setTimeout(function(){i.$node.addClass(m.COUNTDOWN_OVER)},0)),i._calcHumanizedCountdown(s),s--},1e3),window.setTimeout(function(){i.$node.find("."+m.COUNTDOWN+" ."+m.COUNTDOWN_NUMBER).css({opacity:1})},1e3),Page.onReplace(o,this._stopInterval.bind(this))}return B(r,[{key:"optOut",value:function i(){var e=this;this._themeOptOut(),this.originalHeight=this.$node.outerHeight(),this.$featuredCard.addClass(m.HIDE),this.$node.animate({height:this.tallestOverlay,"min-height":this.tallestOverlay},{duration:_.ANIMATION,start:function t(){e.$optOut.removeClass(m.INVISIBLE)}})}},{key:"openFeedbackOverlay",value:function a(){var e=this;this.$node.animate({height:this.tallestOverlay,"min-height":this.tallestOverlay},{duration:_.ANIMATION,start:function t(){e.$feedback.removeClass(m.INVISIBLE)}})}},{key:"sendFeedback",value:function n(){var e=this,t=this.$feedbackInput.val();this._themeOptOutFeedback(t),this.resolutionHeight=this.$resolutionContent.outerHeight(),this.$node.animate({height:this.resolutionHeight,"min-height":this.resolutionHeight},{duration:_.ANIMATION,start:function i(){
e.$resolution.removeClass(m.INVISIBLE)},complete:function a(){setTimeout(function(){e.remove()},_.HIDE)}})}},{key:"undo",value:function o(){var e=this;this.$featuredCard.removeClass(m.HIDE),this._undoOptOut(),this.$node.animate({height:this.originalHeight,"min-height":this.originalHeight},{duration:_.ANIMATION,start:function t(){e.$optOut.addClass(m.INVISIBLE),e.$feedback.addClass(m.INVISIBLE)},complete:function i(){e.$node.css({height:"","min-height":""})}})}},{key:"remove",value:function s(){var e=this;this.$node.animate({opacity:0,height:0,"min-height":0},{duration:_.ANIMATION,complete:function t(){e.$node.remove()}})}},{key:"_themeOptOut",value:function e(){this._postDataToUrl(this.options.dismiss_tag_url)}},{key:"_undoOptOut",value:function t(){this._postDataToUrl(this.options.undo_dismiss_tag_url)}},{key:"_themeOptOutFeedback",value:function u(e){this.options.comment=e,this._postDataToUrl(this.options.submit_dismiss_tag_url)}},{key:"_postDataToUrl",value:function l(e){var t=this.options,i=t.tag_name,a=t.comment;p["default"].ajax({url:e,type:"POST",data:{tag_name:i,comment:a}})}},{key:"_stopInterval",value:function h(){window.clearInterval(this.countdownInterval)}},{key:"_calcHumanizedCountdown",value:function f(e){var t=e,i=new Map([["days",86400],["hours",3600],["minutes",60],["seconds",1]]),a=!0,n=!1,o=undefined;try{for(var s,r=this.countdown.keys()[Symbol.iterator]();!(a=(s=r.next()).done);a=!0){var u=s.value,l=i.get(u),h=Math.floor(t/l),d=10<=h?h:"0"+h;this.countdown.set(u,d),t%=l}}catch(c){n=!0,o=c}finally{try{!a&&r["return"]&&r["return"]()}finally{if(n)throw o}}this._updateCountdown()}},{key:"_updateCountdown",value:function d(){var e=!0,t=!1,i=undefined;try{for(var a,n=this.countdown.keys()[Symbol.iterator]();!(e=(a=n.next()).done);e=!0){var o=a.value;(0,p["default"])("."+o+" ."+m.COUNTDOWN_NUMBER_LEFT).html(String(this.countdown.get(o))[0]),(0,p["default"])("."+o+" ."+m.COUNTDOWN_NUMBER_RIGHT).html(String(this.countdown.get(o))[1])}}catch(s){t=!0,i=s}finally{try{!e&&n["return"]&&n["return"]()}finally{if(t)throw i}}}},{key:"_calcFeaturedCardMaxHeight",value:function c(){var e=this.$featuredCard.outerHeight();this.$featuredCard.css("max-height",e)}}]),r}();t["default"]=i,Shopify.HomeTheme=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=q($),n=q(window.SafeLocalStorage),o={HOLIDAYS_TOOLTIP:"holidaysTooltip",HOLIDAYS_TOOLTIP_VISIBLE:"",HOLIDAYS_TOOLTIP_HIDDEN:"hide"},i=function(){function t(e){x(this,t),this.$node=(0,a["default"])(e),this.$tooltips=(0,a["default"])(e).find(".home-card-tooltip-holidays"),this.holidayTooltipState=n["default"].get(o.HOLIDAYS_TOOLTIP,o.HOLIDAYS_TOOLTIP_VISIBLE),this.holidayTooltipState===o.HOLIDAYS_TOOLTIP_HIDDEN&&this._hideTooltip()}return B(t,[{key:"dismissTooltip",value:function e(){n["default"].set(o.HOLIDAYS_TOOLTIP,o.HOLIDAYS_TOOLTIP_HIDDEN),this.holidayTooltipState=n["default"].get(o.HOLIDAYS_TOOLTIP,o.HOLIDAYS_TOOLTIP_HIDDEN),this._hideTooltip()}},{key:"_hideTooltip",value:function i(){this.$tooltips.addClass("hide")}}]),t}();t["default"]=i,Shopify.HomeThemeHolidays=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=q($),i="dismiss_show_feed_button",a=function(){function a(e,t){var i=t.requestId;x(this,a),this.cardConsumptionRequestId=i,this.$feedNode=(0,n["default"])(".skeleton-feed"),this.$node=(0,n["default"])(e)}return B(a,[{key:"dismissShowFeedButton",value:function t(){this.$node.addClass("is-loading").attr("disabled",!0),this.$feedNode.removeClass("hide"),this.$node.addClass("hide");var e=new Shopify.Home(this.cardConsumptionRequestId);new Shopify.Skeleton(e.onFeedLoaded.bind(e)).loadHomeFeed(),n["default"].ajax({type:"DELETE",url:"/admin/dismissible_element?"+n["default"].param({handle:i})})}}]),a}();t["default"]=a,Shopify.FeedVisibility=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";function s(e,t){var i=e.clone().startOf(t),a=e.clone().endOf(t),n=d;return i.month()===a.month()&&(n=c),i.format(d)+"\u2013"+a.format(n)}Object.defineProperty(t,"__esModule",{value:!0});var r=q(moment),u=q(Twine),l=I(Y),h=I(v),d="MMM D",c="D",i=function(){function a(e,t){var i=1<arguments.length&&t!==undefined?arguments[1]:"today";x(this,a),this.onDateChanged=this.onDateChanged.bind(this),this.selectedDate=i,G.rootDispatcher.register(this.constructor.DATE_CHANGED_EVENT,this.onDateChanged).bindToNode(e),this._initFormattedDates(),this._updateLabel()}return B(a,[{key:"changeDate",value:function t(e){return G.rootDispatcher.dispatch({type:this.constructor.DATE_CHANGED_EVENT,data:e})}},{key:"onDateChanged",value:function n(e){var t=!0,i=e.data.split(","),a=W(i,2);return a[0]===a[1]&&(t=this.selectedDate===e.data),this.selectedDate=e.data,this._updateLabel(),t&&G.Popover.deactivate(),u["default"].refresh()}},{key:"_updateLabel",value:function o(){if(-1===this.selectedDate.indexOf(","))this.dateLabel=h.titleize(this.selectedDate,!0);else{var e=this.selectedDate.split(","),t=W(e,2),i=t[0],a=t[1];if(this.dateLabel=l.fromShop((0,r["default"])(i)).formatInShop(d),i===a)return;(0,r["default"])(i).month()===(0,r["default"])(a).month()?this.dateLabel+="\u2013"+l.fromShop((0,r["default"])(a)).formatInShop(c):this.dateLabel+="\u2013"+l.fromShop((0,r["default"])(a)).formatInShop(d)}}},{key:"_initFormattedDates",value:function i(){var e=l.nowShop().moment;this.formatted={today:e.format(d),yesterday:e.clone().subtract(1,"days").format(d),this_week:s(e,"week"),this_month:s(e,"month")}}}]),a}();i.DATE_CHANGED_EVENT="home:sidebar:date-changed",t["default"]=i,Shopify.HomeSidebarDatepicker=null!=t["default"]?t["default"]:t})),b=e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=q(Bugsnag),a=q(Shopify.SummaryReport),u=q(D),l=I(y),h=I(E),d="YYYY-MM-DD",n=function(e){function o(e,t){x(this,o);var i=j(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return i.channelId=t.channelId,i.homeSidebar=t.homeSidebar,i.widgetViewName=t.widgetViewName,i.widgetErrorMessage=t.widgetErrorMessage,i._newDateSelected=i._newDateSelected.bind(i),i._newDateSelected({data:i.homeSidebar.initialDate}),i.ready=!0,i.URL_REGEX=/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,4}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/,G.rootDispatcher.register(u["default"].DATE_CHANGED_EVENT,i._newDateSelected).bindToNode(e),i}return V(o,e),B(o,[{key:"changeChannelProvider",value:function s(e){var t;this.homeSidebar.setActiveChannel(e.data);for(var i=arguments.length,a=Array(1<i?i-1:0),n=1;n<i;n++)a[n-1]=arguments[n];(t=U(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"changeChannelProvider",this)).call.apply(t,[this,e].concat(a))}},{key:"renderError",value:function t(e){e&&e instanceof Error&&i["default"].notifyException(e),this.errorTemplate&&this.append(this.errorTemplate)}},{key:"_load",value:function n(){if(this.ready&&this.homeSidebar.isActive(this.channelId)){for(var e,t=arguments.length,i=Array(t),a=0;a<t;a++)i[a]=arguments[a];(e=U(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_load",this)).call.apply(e,[this].concat(i))}}},{key:"_newDateSelected",value:function r(e){switch(this.homeSidebar.setActiveDate(e.data,h.formatDate(e.data)),e.data){case"today":return this.changeDateRange({data:{startDate:"0d",endDate:"0d"}});case"yesterday":return this.changeDateRange({data:{startDate:"-1d",endDate:"-1d"}});case"this_week":return this.changeDateRange({data:{startDate:l.absoluteStartOf("week").format(d),endDate:l.absoluteEndOf("week").format(d)}});case"this_month":return this.changeDateRange({data:{startDate:l.absoluteStartOf("month").format(d),endDate:l.absoluteEndOf("month").format(d)}});default:var t=e.data.split(","),i=W(t,2),a=i[0],n=i[1];return this.changeDateRange({data:{startDate:a,endDate:n}})}}}]),o}(a["default"]);t["default"]=n,Shopify.HomeSidebarReport=null!=t["default"]?t["default"]:t}),S=e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=q(b),s=I(E),a=function(e){function t(){return x(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return V(t,e),B(t,[{key:"queries",value:function i(){return{totalSessions:"SHOW total_sessions\n         FROM visits\n         WHERE referrer_source == 'Unknown'\n         SINCE "+this.queryProps.startDate+"\n         UNTIL "+this.queryProps.endDate,topReferrers:"SHOW total_sessions\n         BY referrer_host\n         FROM visits\n         WHERE referrer_source == 'Unknown'\n         SINCE "+this.queryProps.startDate+"\n         UNTIL "+this.queryProps.endDate+"\n         ORDER BY total_sessions DESC\n         LIMIT 5"}}},{key:"initializeView",value:function a(){this.resultTemplate=this.createTemplate(".js-template-success"),this.noDataTemplate=this.createTemplate(".js-template-success-no-data")}},{key:"renderResult",value:function o(e){var t=this,i=e[0].result.data[0][0],a=e[1].result.data;if(a.length){var n=a.map(function(e){return{referrerURL:null==e[0].match(t.URL_REGEX)?undefined:"http://"+s.formatLink(e[0]),referrerName:s.formatLink(e[0]),referrerCount:s.formatNumberCondensed(e[1]),percentage:s.formatPercentage(e[1]/i)}}).filter(function(e){return"0%"!==e.percentage});this.append(this.resultTemplate,{referrers:n})}else this.append(this.noDataTemplate,{widgetErrorMessage:this.widgetErrorMessage})}}]),t}(i["default"]);t["default"]=a,Shopify.HomeTopReferrersReport=null!=t["default"]?t["default"]:t}),P=(e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return x(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return V(t,e),B(t,[{key:"queries",value:function i(){return{totalEmbeds:"SHOW total_visitors\n         FROM buy_button_impression\n         SINCE "+this.queryProps.startDate+"\n         UNTIL "+this.queryProps.endDate,topEmbeds:"SHOW total_visitors BY embedded_path\n         FROM buy_button_impression\n         SINCE "+this.queryProps.startDate+"\n         UNTIL "+this.queryProps.endDate+"\n         ORDER BY total_visitors DESC\n         LIMIT 3"}}}]),t}(q(S)["default"]);t["default"]=i,Shopify.HomeBuyButtonTopEmbedLinksReport=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";function o(e,t){var i="sales"===t?"order":"view";return s.formatNumberCondensed(e)+" "+a.pluralize(e,i)}Object.defineProperty(t,"__esModule",{value:!0});var i=q(b),s=I(E),a=I(v),n=function(e){function t(){return x(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return V(t,e),B(t,[{key:"queries",value:function i(){return{topProducts:"SHOW gross_sales, total_quantity\n         BY product_id, product_title, variant_title\n         FROM sales\n         "+this.queryProps.channelFilter+" "+(this.queryProps.channelFilter?"AND":"WHERE")+" sale_line_type == 'product'\n         SINCE "+this.queryProps.startDate+"\n         UNTIL "+this.queryProps.endDate+"\n         ORDER BY total_quantity DESC\n         LIMIT 3"}}},{key:"initializeView",value:function a(){this.resultTemplate=this.createTemplate(".js-template-success"),this.noDataTemplate=this.createTemplate(".js-template-success-no-data"),this.errorTemplate=this.createTemplate(".js-template-error")}},{key:"renderResult",value:function n(e){var i=this,a=e[0].result.data;if(a.length){var t=a.map(function(e,t){return{id:e[0],name:e[1],variant:"Default Title"===e[2]?null:e[2],sales:s.formatMoney(e[3]),metric:o(e[4],i.widgetViewName),isLastEntry:t===a.length-1}});this.append(this.resultTemplate,{products:t})}else this.append(this.noDataTemplate,{widgetErrorMessage:this.widgetErrorMessage})}}]),t}(i["default"]);t["default"]=n,Shopify.HomeTopProductsReport=null!=t["default"]?t["default"]:t})),A=e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=q($),i=q(P),s=I(E),r=I(n),a=function(e){function a(e,t){x(this,a);var i=j(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t));return i.channelId=t.channelId,i.channelName=t.channelName,i.homeSidebar=t.homeSidebar,i.widgetViewName=t.widgetViewName,i.queryProps.channelName=i.channelName,i}return V(a,e),B(a,[{key:"queries",value:function t(){return{topProducts:"SHOW total_views BY product_id\n         FROM daily_channel_product_listing_engagements\n         WHERE api_client_title == '"+this.queryProps.channelName+"'\n         SINCE "+this.queryProps.startDate+"\n         UNTIL "+this.queryProps.endDate+"\n         ORDER BY total_views DESC\n         LIMIT 3"}}},{key:"renderResult",value:function n(e){var t=this,a=e[0].result.data;if(a.length){var i=a.map(function(e){return e[0]});this._loadProductTitles(i).then(function(i){return a.map(function(e,t){return{id:e[0],views:s.formatNumberCondensed(e[1]),name:i[e[0]],isLastEntry:t===a.length-1}})}).then(function(e){return t.append(t.resultTemplate,{products:e})}).fail(this.renderError.bind(this))}else this.append(this.noDataTemplate,{widgetErrorMessage:this.widgetErrorMessage})}},{key:"_loadProductTitles",value:function i(e){return o["default"].ajax({url:r.products().json+"?ids="+e.join(",")+"&fields=id,title",type:"GET",dataType:"json"}).then(function(e){var t={};return e.products.forEach(function(e){t[e.id]=e.title}),t})}}]),a}(i["default"]);t["default"]=a,Shopify.HomeTopViewedProductsReport=null!=t["default"]?t["default"]:t}),w=(e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=q(A),o=I(E),a=function(e){function t(){return x(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return V(t,e),B(t,[{key:"queries",value:function i(){return{topProducts:"SHOW total_visitors BY product_id\n         FROM buy_button_impression\n         WHERE product_id != 0\n         SINCE "+this.queryProps.startDate+"\n         UNTIL "+this.queryProps.endDate+"\n         ORDER BY total_visitors DESC\n         LIMIT 3"}}},{key:"renderResult",value:function n(e){var t=this,a=e[0].result.data;if(a.length){var i=a.map(function(e){return e[0]});this._loadProductTitles(i).then(function(i){return a.map(function(e,t){return{id:e[0],views:o.formatNumberCondensed(e[1]),name:i[e[0]],isLastEntry:t===a.length-1}})}).then(function(e){return t.append(t.resultTemplate,{products:e})}).fail(this.renderError.bind(this))}else this.append(this.noDataTemplate,{widgetErrorMessage:this.widgetErrorMessage})}}]),t}(i["default"]);t["default"]=a,Shopify.HomeBuyButtonTopViewedProductsReport=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";function o(e,t){var i=Math.abs(t-e);e<0&&(i*=1+1/S.yAxisTickCount);var a=i/(S.yAxisTickCount-1);a=r(a,u(a)/2,i);var n=Math.ceil(Math.abs(e)/a);return(0,l["default"])({from:0,to:S.yAxisTickCount,inclusive:!1}).map(function(e,t){return(t-n)*a}).reverse()}function s(e,i){return e.map(function(e,t){return{value:i(e),visible:t%2==0}})}function r(e,t,i){var a=Math.floor(i);if(a<=S.yAxisRange.small)return S.yAxisStepInterval.small;if(a<=S.yAxisRange.medium)return S.yAxisStepInterval.medium;var n=Math.ceil(e),o=n%t,s=Math.round(n+t-o);return Math.max(s,S.yAxisStepInterval.large)}function u(e){return Math.pow(10,Math.ceil(e).toString().length-1)}function v(e){function t(e,t){var i=W(t,2),a=(i[0],i[1]);return Math.min(e,a)}return Math.min(0,e.reduce(t,0))}function y(e){function t(e,t){var i=W(t,2),a=(i[0],i[1]);return Math.max(e,a)}return Math.max(0,e.reduce(t,0))}function g(e){var t="hour"===e.columns[0].field,i=a.day;return t&&(i+=" "+a.hour),{tooltipDateFormat:i,xAxisDateFormat:t?a.hour:a.dayCondensed}}function O(e){return e>S.removeSpacingBreakpoint?0:e>S.reduceSpacingBreakpoint?1:Math.max(Math.floor(S.reduceSpacingBreakpoint/e),2)}function E(e,t){var i=Math.abs(e)/t*S.height;return Math.round(Math.max(i,S.minBarHeight))}function T(e,t){var i=Math.round(100*e/t);return i=Math.max(i,S.minTooltipPositionPercent),i=Math.min(i,S.maxTooltipPositionPercent)}function k(e){var t=[0,e-1];if(7<=e)t.push(Math.floor(Number(e)/3)),t.push(Math.floor(2*e/3));else{var i=!0,a=!1,n=undefined;try{for(var o,s=(0,l["default"])({from:1,to:e-2,inclusive:!0})[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var r=o.value;t.push(r)}}catch(u){a=!0,n=u}finally{try{!i&&s["return"]&&s["return"]()}finally{if(a)throw n}}}return t}Object.defineProperty(t,"__esModule",{value:!0});var D=q(_),l=q(C),b=I(Y),S={height:101,minBarHeight:2,minGraphHeight:10,minTooltipPositionPercent:10,maxTooltipPositionPercent:90,fixXAxisBreakpoint:20,reduceSpacingBreakpoint:40,removeSpacingBreakpoint:90,yAxisTickCount:6,yAxisNoDataStepHeight:1,yAxisLowDataStepHeight:2,yAxisStepInterval:{small:1,medium:2,large:5},yAxisRange:{small:5,medium:10}},a={day:"MMMM D, YYYY",dayCondensed:"MMM D",hour:"ha"};t["default"]=function(e){var n=0<arguments.length&&e!==undefined?arguments[0]:{},m=void 0;if(!(m=n.dataFormatters))throw new Error("HomeGraphHelper requires dataFormatters to format values and the y-axis.");return function(e){var l=e.data.length,t=S.height/(S.yAxisTickCount-1),i=o(v(e.data),y(e.data)),h=i[0]-D["default"].last(i),d={type:n.type||"sales",hasManyPoints:l>S.fixXAxisBreakpoint,barSpacing:O(l),bars:[],originPosition:Math.round(i.indexOf(0)*t),xAxis:[],yAxis:s(i,m.formatYAxisValue)},c=b.nowShop().moment,a=g(e),f=a.tooltipDateFormat,p=a.xAxisDateFormat;return e.data.forEach(function(e,t){var i=W(e,3),a=i[0],n=i[1],o=i[2],s=void 0,r=void 0,u=b.fromShop(a).moment.isAfter(c);return u||(r={date:b.fromShop(a).moment.format(f),horizontalPosition:T(t,l),primaryValue:m.formatPrimaryValue(n)},m.formatSecondaryValue&&(r.secondaryValue=m.formatSecondaryValue(o))),d.bars.push({rawValue:n,height:E(n,h),tooltip:r,inFuture:u}),k(l).includes(t)&&(s=b.fromShop(a).moment.format(p)),d.xAxis.push(s||"")}),d}},Shopify.HomeGraphTransformer=null!=t["default"]?t["default"]:t})),R=(e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=q(b),o=q(w),s=I(E),r=I(v),a=function(e){function t(){return x(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return V(t,e),B(t,[{key:"queries",value:function i(){var e=this.queryProps.startDate===this.queryProps.endDate?"hour":"day";return{sessions:"SHOW total_sessions, total_visitors\n         OVER "+e+"(viewed_at)\n         AS "+e+"\n         FROM buy_button_impression\n         SINCE "+this.queryProps.startDate+"\n         UNTIL "+this.queryProps.endDate+"\n         ORDER BY "+e+" ASC",totalSessions:"SHOW total_sessions\n         FROM buy_button_impression\n         SINCE "+this.queryProps.startDate+"\n         UNTIL "+this.queryProps.endDate,totalVisitors:"SHOW total_visitors\n         FROM buy_button_impression\n         SINCE "+this.queryProps.startDate+"\n         UNTIL "+this.queryProps.endDate}}},{key:"initializeView",value:function n(){var e={formatPrimaryValue:function t(e){return s.formatNumber(e)+" "+r.pluralize(e,"session")},formatSecondaryValue:function i(e){return s.formatNumber(e)+" visitors"},formatYAxisValue:function a(e){return s.formatNumberCondensed(e)}};this.transformGraphData=(0,o["default"])({type:"sessions",dataFormatters:e}),this.resultTemplate=this.createTemplate(".js-template-success"),this.noDataTemplate=this.createTemplate(".js-template-success-no-data"),this.errorTemplate=this.createTemplate(".js-template-error")}},{key:"renderResult",value:function a(e){var t=e[1].result.data,i=e[2].result.data;i?this.append(this.resultTemplate,{sessions:s.formatNumber(t),visitors:s.formatNumber(i),graph:this.transformGraphData(e[0].result)}):this.append(this.noDataTemplate)}}]),t}(i["default"]);t["default"]=a,Shopify.HomeBuyButtonVisitorsReport=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";function r(e){e.stopPropagation()}Object.defineProperty(t,"__esModule",{value:!0});var u=q(Twine),l=q(_),h=q($),i=q(b),d=q(Shopify.SummaryReportChannelpicker),c=I(E),f=I(v),p="129785",a=function(e){function a(e,t){x(this,a);var i=j(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t));return i.channels=t.channels.filter(function(e){return"all"!==e.id}),i}return V(a,e),B(a,[{key:"queries",value:function n(){var t=this,i={};return this.channels.forEach(function(e){return i[e.name+"-"+e.id]=t._salesAndOrdersQuery(e.id),i[e.name+"-"+e.id]}),i}},{key:"initializeView",value:function t(){(0,h["default"])(".page__sidebar").on("click",".home-channel-summary__link",r),this.resultTemplate=this.createTemplate(".js-template-success"),this.errorTemplate=this.createTemplate(".js-template-error")}},{key:"renderResult",value:function i(o){var s={};this.channels.forEach(function(e,t){var i=W(o[t].result.data[0],2),a=i[0],n=i[1];e.id[0]===p&&(e.name=e.name.replace(/Point of sale/,"Shopify POS")),s[e.name+"-"+e.id]=l["default"].assign(e,{sales:""+c.formatMoney(a),orders:c.formatNumberCondensed(n)+" "+f.pluralize(n,"order")})});var e=this.append(this.resultTemplate,{formattedDate:this.homeSidebar.formattedDate,channels:s});u["default"].bind(e.find(".js-button-wrapper")[0])}},{key:"changeChannel",value:function o(e){G.rootDispatcher.dispatch({type:d["default"].CHANNEL_CHANGED_EVENT,data:e})}},{key:"_salesAndOrdersQuery",value:function s(e){var t="";if("other"===e)t="WHERE channel_provider_id == 0";else{var i=e.split("-"),a=W(i,2),n=a[0],o=a[1];t="WHERE api_client_id == "+n,o&&(t+=" AND location_id == "+o)}return'\n       SHOW\n         total_sales AS "sales '+e+'",\n         total_orders AS "orders '+e+'"\n       FROM sales\n       '+t+"\n       SINCE "+this.queryProps.startDate+"\n       UNTIL "+this.queryProps.endDate}}]),a}(i["default"]);t["default"]=a,Shopify.HomeChannelsSummaryReport=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function a(e,t){x(this,a);var i=j(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t));return i.channelId=t.channelId,i.channelName=t.channelName,i.homeSidebar=t.homeSidebar,i.queryProps.channelName=i.channelName,i}return V(a,e),a}(q(b)["default"]);t["default"]=i,Shopify.HomeSidebarEngagementsReport=null!=t["default"]?t["default"]:t})),M=e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=q(R),r=I(E),a=function(e){function t(){return x(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return V(t,e),B(t,[{key:"queries",value:function i(){return{views:'SHOW total_views, total_clicks\n         FROM daily_channel_product_listing_engagements\n         WHERE api_client_title == "'+this.queryProps.channelName+'"\n         SINCE '+this.queryProps.startDate+"\n         UNTIL "+this.queryProps.endDate,totalPurchased:'SHOW total_orders\n         FROM sales\n         WHERE api_client_title == "'+this.queryProps.channelName+'"\n         SINCE '+this.queryProps.startDate+"\n         UNTIL "+this.queryProps.endDate}}},{key:"initializeView",value:function a(){this.resultTemplate=this.createTemplate(".js-template-success"),this.noDataTemplate=this.createTemplate(".js-template-success-no-data"),this.errorTemplate=this.createTemplate(".js-template-error")}},{key:"renderResult",value:function s(e){var t=W(e[0].result.data[0],2),i=t[0],a=t[1],n=e[1].result.data[0][0];if(0!==i){var o={reachedCheckout:a.toLocaleString(),reachedCheckoutPercentage:r.formatPercentage(a/i,2),purchased:n.toLocaleString(),purchasedPercentage:r.formatPercentage(n/i,2)};this.append(this.resultTemplate,o)}else this.append(this.noDataTemplate)}}]),t}(i["default"]);t["default"]=a,Shopify.HomeConversionReport=null!=t["default"]?t["default"]:t}),H=(e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=q(b),o=I(E),a=function(e){function t(){return x(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return V(t,e),B(t,[{key:"queries",value:function i(){return{totalMarketingCampaigns:"SHOW total_sessions\n         FROM visits\n         WHERE utm_campaign_name != ''\n         SINCE "+this.queryProps.startDate+"\n         UNTIL "+this.queryProps.endDate,topMarketingCampaigns:"SHOW total_sessions\n         BY utm_campaign_name\n         FROM visits\n         WHERE utm_campaign_name != ''\n         SINCE "+this.queryProps.startDate+"\n         UNTIL "+this.queryProps.endDate+"\n         ORDER BY total_sessions DESC\n         LIMIT 5"}}},{key:"initializeView",value:function a(){this.resultTemplate=this.createTemplate(".js-template-success"),this.noDataTemplate=this.createTemplate(".js-template-success-no-data")}},{key:"renderResult",value:function n(e){var t=e[0].result.data[0][0],i=e[1].result.data;if(i.length){var a=i.map(function(e){return{referrerName:e[0],referrerCount:o.formatNumberCondensed(e[1]),percentage:o.formatPercentage(e[1]/t)}});this.append(this.resultTemplate,{referrers:a})}else this.append(this.noDataTemplate,{widgetErrorMessage:this.widgetErrorMessage})}}]),t}(i["default"]);t["default"]=a,Shopify.HomeMarketingCampaignsReport=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=q(M),u=I(E),a=function(e){function t(){return x(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return V(t,e),B(t,[{key:"queries",value:function i(){return{sessionsFunnel:"SHOW total_sessions, total_carts, total_reached_checkouts\n         FROM visits\n         SINCE "+this.queryProps.startDate+"\n         UNTIL "+this.queryProps.endDate,totalPurchased:"SHOW total_orders\n         FROM sales\n         WHERE api_client_title == 'Online Store'\n         SINCE "+this.queryProps.startDate+"\n         UNTIL "+this.queryProps.endDate}}},{key:"renderResult",value:function r(e){var t=W(e[0].result.data[0],3),i=t[0],a=t[1],n=t[2],o=e[1].result.data[0][0];if(0!==i){var s={addsToCart:a.toLocaleString(),addsToCartPercentage:u.formatPercentage(a/i,2),reachedCheckout:n.toLocaleString(),reachedCheckoutPercentage:u.formatPercentage(n/i,2),purchased:o.toLocaleString(),purchasedPercentage:u.formatPercentage(o/i,2)};this.append(this.resultTemplate,s)}else this.append(this.noDataTemplate)}}]),t}(i["default"]);t["default"]=a,Shopify.HomeOnlineStoreConversionReport=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";function d(){return m["default"].get(g,v)}Object.defineProperty(t,"__esModule",{value:!0});var c=q($),f=q(Twine),p=q(Shopify.SummaryReportChannelpicker),m=q(window.SafeLocalStorage),_="today",v="all",y="homeSidebarDate",g="homeSidebarChannel",O="cid",i=function(){function n(e,t,i){x(this,n),this._updateChannelPicker=this._updateChannelPicker.bind(this),this._initialShowEvent=this._initialShowEvent.bind(this),this._showPickers=this._showPickers.bind(this),this.setActiveChannel=this.setActiveChannel.bind(this),this.node=e,this.showOther=i.showOther;var a=t.map(function(e){return e.id});this.currentChannelId=this._getInitialChannelId(a),this.initialDate=m["default"].get(y,_),G.rootDispatcher.register(p["default"].AFTER_CHANNEL_CHANGED_EVENT,this._initialShowEvent),setTimeout(this._updateChannelPicker,0)}return B(n,[{key:"setActiveDate",value:function i(e,t){this.formattedDate=t,m["default"].set(y,e)}},{key:"setActiveChannel",value:function t(e){this.currentChannelId=e,m["default"].set(g,this.currentChannelId)}},{key:"isActive",value:function a(e){return e===this.currentChannelId}},{key:"_updateChannelPicker",value:function e(){this._setChannelPickerLabel()}},{key:"_setChannelPickerLabel",value:function o(){G.rootDispatcher.dispatch({type:p["default"].CHANNEL_CHANGED_EVENT,data:this.currentChannelId})}},{key:"_initialShowEvent",value:function s(e){e.data===this.currentChannelId&&(f["default"].refresh(),this._showPickers(),G.rootDispatcher.remove(p["default"].CHANNEL_CHANGED_EVENT,this._initialShowEvent))}},{key:"_showPickers",value:function r(){return(0,c["default"])(this.node).removeClass("next-card--home-channel-filters--loading")}},{key:"_getInitialChannelId",value:function u(e){for(var t=[this._channeldIdFromUrl,d],i=0;i<t.length;i++){var a=t[i].call(this);if(-1!==e.indexOf(a))return a}return v}},{key:"_channeldIdFromUrl",value:function l(){var e=this._urlParams().filter(function(e){return e.split("=")[0]===O})[0];if(e){var t=e.split("=")[1];return decodeURIComponent(t)}return null}},{key:"_urlParams",value:function h(){return window.location.search.substring(1).split("&")}}]),n}();t["default"]=i,Shopify.HomeSidebar=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=q(moment),d=q(_),c=q($),p=q(o),m=q(C),v=q(D),y="MMMM YYYY",g="e",O="YYYY-MM-DD",E=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],i=function(){function i(e,t){x(this,i),this.$calendar=(0,c["default"])(e).find(".js-home-calendar"),this._initTemplate(e),this._initEvents(e),this._loadDateRange({data:t.selectedDate})}return B(i,[{key:"nextMonth",value:function e(){return this._loadMonthFor(this.lastOfMonth.add(1,"day"))}},{key:"prevMonth",value:function t(){return this._loadMonthFor(this.firstOfMonth.subtract(1,"day"))}},{key:"_initTemplate",value:function a(e){var t=(0,c["default"])(e).find(".js-template-calendar").remove();return this.template=d["default"].template(t.html()),this.template}},{key:"_initEvents",value:function n(e){var t=this;G.rootDispatcher.register(v["default"].DATE_CHANGED_EVENT,this._loadDateRange.bind(this)).bindToNode(e),this.$calendar.on("click",".ui-button",this._dateClicked.bind(this)),p["default"].onReplace(e,function(){return t.$calendar.off("click")})}},{key:"_loadDateRange",value:function r(e){var t=e.data,i=(0,h["default"])().startOf("day");switch(t){case"today":this.fromMoment=i,this.toMoment=i;break;case"yesterday":this.fromMoment=i.clone().subtract(1,"day"),this.toMoment=i.clone().subtract(1,"day");break;case"this_week":this.fromMoment=i.clone().startOf("week"),this.toMoment=i.clone().endOf("week").startOf("day");break;case"this_month":this.fromMoment=i.clone().startOf("month"),this.toMoment=i.clone().endOf("month").startOf("day");break;default:var a=t.split(","),n=W(a,2),o=n[0],s=n[1];this.fromMoment=(0,h["default"])(o),this.toMoment=(0,h["default"])(s)}return this._loadMonthFor(this.fromMoment)}},{key:"_render",value:function o(e){var t={weeks:e,monthName:this.monthName,DAYS_OF_THE_WEEK:E};return this.$calendar.empty(),this.$calendar.append(this.template(t))}},{key:"_dateClicked",value:function s(e){e.stopPropagation();var t=e.target.innerHTML.trim(),i=(0,h["default"])(new Date(this.firstOfMonth.year(),this.firstOfMonth.month(),t));return this.toMoment.isSame(this.fromMoment)&&i.isSame(this.toMoment)||(this.toMoment.isSame(this.fromMoment)&&i.isAfter(this.fromMoment)||(this.fromMoment=i),this.toMoment=i),this._updateDatepicker()}},{key:"_updateDatepicker",value:function u(){var e=this.fromMoment.format(O)+",";return e+=""+this.toMoment.format(O),G.rootDispatcher.dispatch({type:v["default"].DATE_CHANGED_EVENT,data:e})}},{key:"_loadMonthFor",value:function f(e){var t=[],i={},a=0;this.firstOfMonth=e.clone().startOf("month"),this.lastOfMonth=e.clone().endOf("month");var n=this.firstOfMonth.format(g);for(this.monthName=e.format(y);a<n;)i[E[a]]={date:""},a++;var o=!0,s=!1,r=undefined;try{for(var u,l=(0,m["default"])({from:1,to:this.lastOfMonth.date(),inclusive:!0})[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var h=u.value,d=this.firstOfMonth.clone().add(h-1,"days");i[E[a]]=this._dateWithMetadata(d),7===++a&&(a=0,t.push(i),i=h===this.lastOfMonth.date()?null:{})}}catch(c){s=!0,r=c}finally{try{!o&&l["return"]&&l["return"]()}finally{if(s)throw r}}if(i){for(;a<7;)i[E[a]]={date:""},a++;t.push(i)}return this._render(t)}},{key:"_dateWithMetadata",value:function l(e){return{date:e.date(),isStart:e.isSame(this.fromMoment),isEnd:e.isSame(this.toMoment),isSelected:e.isAfter(this.fromMoment)&&e.isBefore(this.toMoment)}}}]),i}();t["default"]=i,Shopify.HomeSidebarCalendar=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=q(b),o=I(E),a=function(e){function t(){return x(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return V(t,e),B(t,[{key:"queries",value:function i(){return{totalSessions:"SHOW total_sessions\n         FROM visits\n         SINCE "+this.queryProps.startDate+"\n         UNTIL "+this.queryProps.endDate,topCountries:"SHOW total_sessions\n         BY location_country\n         FROM visits\n         SINCE "+this.queryProps.startDate+"\n         UNTIL "+this.queryProps.endDate+"\n         ORDER BY total_sessions DESC\n         LIMIT 5"}}},{key:"initializeView",value:function a(){this.resultTemplate=this.createTemplate(".js-template-success"),this.noDataTemplate=this.createTemplate(".js-template-success-no-data")}},{key:"renderResult",value:function n(e){var t=e[0].result.data[0][0],i=e[1].result.data;if(i.length){var a=i.map(function(e){return{referrerName:e[0]||"Unknown",
referrerCount:o.formatNumberCondensed(e[1]),percentage:o.formatPercentage(e[1]/t)}}).filter(function(e){return"0%"!==e.percentage});this.append(this.resultTemplate,{referrers:a})}else this.append(this.noDataTemplate,{widgetErrorMessage:this.widgetErrorMessage})}}]),t}(i["default"]);t["default"]=a,Shopify.HomeTopCountriesReport=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=q(b),o=I(E),a=function(e){function t(){return x(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return V(t,e),B(t,[{key:"queries",value:function i(){return{totalSessions:"SHOW total_sessions\n         FROM visits\n         SINCE "+this.queryProps.startDate+"\n         UNTIL "+this.queryProps.endDate,landingPages:"SHOW total_sessions\n         BY page_path, host(page_url)\n         FROM visits\n         SINCE "+this.queryProps.startDate+"\n         UNTIL "+this.queryProps.endDate+"\n         ORDER BY total_sessions DESC\n         LIMIT 5"}}},{key:"initializeView",value:function a(){this.resultTemplate=this.createTemplate(".js-template-success"),this.noDataTemplate=this.createTemplate(".js-template-success-no-data")}},{key:"renderResult",value:function n(e){var t=e[0].result.data[0][0],i=e[1].result.data;if(i.length){var a=i.map(function(e){return{referrerURL:"http://"+e[1]+e[0],referrerName:o.formatLink(e[0])||"Frontpage ("+o.formatLink(e[1])+")",referrerCount:o.formatNumberCondensed(e[2]),percentage:o.formatPercentage(e[2]/t)}}).filter(function(e){return"0%"!==e.percentage});this.append(this.resultTemplate,{referrers:a})}else this.append(this.noDataTemplate,{widgetErrorMessage:this.widgetErrorMessage})}}]),t}(i["default"]);t["default"]=a,Shopify.HomeTopLandingPagesReport=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return x(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return V(t,e),B(t,[{key:"queries",value:function i(){return{totalSessions:"SHOW total_sessions\n         FROM visits\n         WHERE referrer_source == 'Social'\n         SINCE "+this.queryProps.startDate+"\n         UNTIL "+this.queryProps.endDate,topReferrers:"SHOW total_sessions\n         BY referrer_name\n         FROM visits\n         WHERE referrer_source == 'Social'\n         SINCE "+this.queryProps.startDate+"\n         UNTIL "+this.queryProps.endDate+"\n         ORDER BY total_sessions DESC\n         LIMIT 5"}}}]),t}(q(S)["default"]);t["default"]=i,Shopify.HomeTopSocialReferrersReport=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=q(b),o=I(E),s="Point of Sale",a=function(e){function t(){return x(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return V(t,e),B(t,[{key:"queries",value:function i(){var e=this.channelId.split("-")[1];return{topStaff:"SHOW total_orders, total_sales\n         BY employee_id, employee_name\n         FROM sales\n         WHERE api_client_title == '"+s+"'\n         AND location_id == "+e+"\n         SINCE "+this.queryProps.startDate+"\n         UNTIL "+this.queryProps.endDate+"\n         ORDER BY total_orders DESC\n         LIMIT 3"}}},{key:"initializeView",value:function a(){this.resultTemplate=this.createTemplate(".js-template-success"),this.noDataTemplate=this.createTemplate(".js-template-success-no-data"),this.errorTemplate=this.createTemplate(".js-template-error")}},{key:"renderResult",value:function n(e){var i=e[0].result.data;if(i.length){var t=i.map(function(e,t){return{id:e[0],name:e[1],orderCount:o.formatNumberCondensed(e[2]),totalSales:o.formatMoney(e[3]),average:e[2]?o.formatMoney(e[3]/e[2]):"$0.00",isLastEntry:t===i.length-1}});this.append(this.resultTemplate,{staffMembers:t})}else this.append(this.noDataTemplate)}}]),t}(i["default"]);t["default"]=a,Shopify.HomeTopStaffReport=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=q(R),o=q(w),s=I(E),r=I(v),a=function(e){function t(){return x(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return V(t,e),B(t,[{key:"queries",value:function i(){return{views:"SHOW total_views\n         OVER day(occurred_on)\n         AS day\n         FROM daily_channel_product_listing_engagements\n         WHERE api_client_title == '"+this.queryProps.channelName+"'\n         SINCE "+this.queryProps.startDate+"\n         UNTIL "+this.queryProps.endDate+"\n         ORDER BY day ASC",totalViews:"SHOW total_views\n         FROM daily_channel_product_listing_engagements\n         WHERE api_client_title == '"+this.queryProps.channelName+"'\n         SINCE "+this.queryProps.startDate+"\n         UNTIL "+this.queryProps.endDate}}},{key:"initializeView",value:function a(){var e={formatPrimaryValue:function t(e){return s.formatNumber(e)+" "+r.pluralize(e,"view")},formatYAxisValue:function i(e){return s.formatNumberCondensed(e)}};this.transformGraphData=(0,o["default"])({type:"visits",dataFormatters:e}),this.resultTemplate=this.createTemplate(".js-template-success"),this.noDataTemplate=this.createTemplate(".js-template-success-no-data"),this.errorTemplate=this.createTemplate(".js-template-error")}},{key:"renderResult",value:function n(e){var t=e[0].result;if(t.data.length){var i=s.formatNumber(e[1].result.data[0][0]),a=r.pluralize(i,"view");this.append(this.resultTemplate,{views:i+" "+a,graph:this.transformGraphData(t)})}else this.append(this.noDataTemplate)}}]),t}(i["default"]);t["default"]=a,Shopify.HomeViewsReport=null!=t["default"]?t["default"]:t}));e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=q(H),o=q(w),s=I(E),a=function(e){function t(){return x(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return V(t,e),B(t,[{key:"queries",value:function i(){var e=this.queryProps.startDate===this.queryProps.endDate?"hour":"day";return{totalSessions:"SHOW total_sessions\n         FROM visits\n         SINCE "+this.queryProps.startDate+"\n         UNTIL "+this.queryProps.endDate,totalVisitors:"SHOW total_visitors\n         FROM visits\n         SINCE "+this.queryProps.startDate+"\n         UNTIL "+this.queryProps.endDate,sessions:"SHOW total_sessions, total_visitors\n         OVER "+e+"(timestamp)\n         AS "+e+"\n         FROM visits\n         SINCE "+this.queryProps.startDate+"\n         UNTIL "+this.queryProps.endDate+"\n         ORDER BY "+e+" ASC"}}},{key:"initializeView",value:function n(){var e={formatPrimaryValue:function t(e){return s.formatNumber(e)+" sessions"},formatSecondaryValue:function i(e){return s.formatNumber(e)+" visitors"},formatYAxisValue:function a(e){return s.formatNumberCondensed(e)}};this.transformGraphData=(0,o["default"])({type:"sessions",dataFormatters:e}),this.resultTemplate=this.createTemplate(".js-template-success"),this.noDataTemplate=this.createTemplate(".js-template-success-no-data"),this.errorTemplate=this.createTemplate(".js-template-error")}},{key:"renderResult",value:function a(e){var t=e[0].result.data,i=e[1].result.data;i?this.append(this.resultTemplate,{sessions:s.formatNumber(t),visitors:s.formatNumber(i),graph:this.transformGraphData(e[2].result)}):this.append(this.noDataTemplate)}}]),t}(i["default"]);t["default"]=a,Shopify.HomeOnlineStoreVisitorsReport=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=q(b),s=I(v),r=I(E),n=q(w),a=function(e){function t(){return x(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return V(t,e),B(t,[{key:"queries",value:function i(){var e=this.queryProps.startDate===this.queryProps.endDate?"hour":"day";return{sales:"SHOW total_sales\n         OVER "+e+"(processed_at)\n         AS "+e+"\n         FROM sales\n         "+this.queryProps.channelFilter+"\n         SINCE "+this.queryProps.startDate+"\n         UNTIL "+this.queryProps.endDate+"\n         ORDER BY "+e+" ASC",totalSalesAndOrders:"SHOW total_sales, total_orders\n         FROM sales\n         "+this.queryProps.channelFilter+"\n         SINCE "+this.queryProps.startDate+"\n         UNTIL "+this.queryProps.endDate}}},{key:"initializeView",value:function a(){var e={formatPrimaryValue:function t(e){return r.formatMoney(e)},formatYAxisValue:function i(e){return r.formatMoneyCondensed(e)}};this.transformGraphData=new n["default"]({dataFormatters:e}),this.resultTemplate=this.createTemplate(".js-template-success"),this.noDataTemplate=this.createTemplate(".js-template-success-no-data"),this.errorTemplate=this.createTemplate(".js-template-error")}},{key:"renderResult",value:function o(e){var t=e[0].result;if(t.data.length){var i=e[1].result,a=r.formatNumber(i.data[0][1]),n=s.pluralize(i.data[0][1],"order");this.append(this.resultTemplate,{total:r.formatMoney(i.data[0][0]),orders:a+" "+n,graph:this.transformGraphData(t)})}else this.append(this.noDataTemplate)}}]),t}(i["default"]);t["default"]=a,Shopify.HomeSalesReport=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=q(b),r=I(E),a=function(e){function t(){return x(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return V(t,e),B(t,[{key:"queries",value:function i(){return{totalSalesBreakdown:'SHOW\n           total_sales,\n           sum((IF (sale_line_type IN ("product", "shipping", "unknown") AND sale_kind == "order") THEN amount_after_discounts_after_tax)) AS order_sales,\n           sum((IF (sale_line_type IN ("product", "shipping", "unknown") AND sale_kind == "return") THEN amount_after_discounts_after_tax)) AS returns_amount,\n           count(DISTINCT (IF (sale_kind == "return") THEN order_id)) AS returns_count\n         FROM sales\n         '+this.queryProps.channelFilter+"\n         SINCE "+this.queryProps.startDate+"\n         UNTIL "+this.queryProps.endDate}}},{key:"initializeView",value:function a(){this.resultTemplate=this.createTemplate(".js-template-success")}},{key:"renderResult",value:function s(e){var t=e[0].result.data;if(t.length){var i=W(t[0],4),a=i[0],n=i[1],o=i[2];0<i[3]?(this.append(this.resultTemplate,{formattedDate:this.homeSidebar.formattedDate,totalSales:r.formatMoney(a),sales:r.formatMoney(n),returnsAmount:r.formatMoney(o)}),this.$node.show()):this.$node.hide()}else this.$node.hide()}}]),t}(i["default"]);t["default"]=a,Shopify.HomeTotalSalesBreakdown=null!=t["default"]?t["default"]:t});(function(){var i=function(e,t){return function(){return e.apply(t,arguments)}};Shopify.SocialMarketingFrame=function(){function e(e,t){this.node=e,this.url=t,this.receive=i(this.receive,this),this.show=i(this.show,this),this.onLoad=i(this.onLoad,this),this.context=Twine.context(document.body),Shopify.rootDispatcher.register("SocialMarketingFrameOpen",this.show).bindToNode(this.node),window.addEventListener("message",this.receive)}return e.prototype.loaded=!1,e.prototype.onLoad=function(e){return""!==e.target.src&&(this.loaded=!0),Twine.refresh()},e.prototype.show=function(e){return null==e&&(e={}),null!=e.url?this.src=e.url:this.src=this.url,e.funnel&&(this.src=Shopify.UrlMangler.addQuery(Shopify.UrlMangler.getURL(this.src),{funnel:e.funnel})),Twine.refresh(),this.context.SocialMarketingModal.show()},e.prototype.receive=function(e){var t,i;try{t=JSON.parse(e.data)}catch(a){return}return t.closeMarketingModal&&(this.context.SocialMarketingModal.hide(),this.src="",this.loaded=!1),t.marketingFrameHeight&&(i=window.innerHeight-40,this.height=t.marketingFrameHeight<i?t.marketingFrameHeight:i),Twine.refresh()},e}()}).call(this),function(){var t,i=function(e,t){return function(){return e.apply(t,arguments)}};t="a, a *, input, button, [data-bind-event-click], [aria-haspopup], td.select, .ui-popover *",Shopify.NestedLinkContainer=function(){function e(e){var t;if(this.node=e,this.linkTo=i(this.linkTo,this),t=$(this.node),this.linkNode=t.find("a[data-nested-link-target]"),!this.linkNode.is("a"))throw new Error("NestedLinkContainer must be constructed with a node that is an <a> tag");t.on("click",this.linkTo)}return e.BLACK_LIST=t,e.prototype.linkTo=function(e){if(!(0<$(e.target).filter(t).length||this._hasSelection()))return this.navigateTo()},e.prototype.navigateTo=function(){return this.linkNode[0].click()},e.prototype._hasSelection=function(){return 0<window.getSelection().toString().length},e}()}.call(this);e(function(){"use strict";window.Bugsnag&&(window.Bugsnag.metaData.bundles["shopify-home"]=!0)})}("undefined"!=typeof global?global:"undefined"!=typeof window&&window);